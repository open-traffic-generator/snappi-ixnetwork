{"uid":"2f43b24056b79d97","name":"test_counter_ip_dscp","historyId":"pytest:chassischain.test_chassis_chain_support#test_counter_ip_dscp","time":{"start":1744628606357,"stop":1744628631156,"duration":24799},"status":"failed","statusMessage":"assert 0 == 1\n +  where 0 = len(<ixnetwork_restpy.testplatform.sessions.ixnetwork.availablehardware.chassis.chassis.Chassis object at 0x7f3470f06b40>)","statusTrace":"api = <snappi_ixnetwork.snappi_api.Api object at 0x7f34712c5510>\nb2b_raw_config = <snappi.snappi.Config object at 0x7f3470c22ca0>\nutils = <module 'utils' from '/home/github-runner/actions-runner/_work/snappi-ixnetwork/snappi-ixnetwork/tests/utils/__init__.py'>\n\n    def test_counter_ip_dscp(api, b2b_raw_config, utils):\n        \"\"\"\n        Configure a Chassis Chain setup\n    \n        Validate,\n        - Fetch the chassis chain config set via restpy and validate\n          against expected\n        \"\"\"\n        ixnconfig = api.ixnet_specific_config\n        chassis_chain1 = ixnconfig.chassis_chains.add()\n        chassis_chain1.primary = \"10.36.78.236\"\n        chassis_chain1.topology = chassis_chain1.STAR\n        secondary1 = chassis_chain1.secondary.add()\n        secondary1.location = \"10.36.78.141\"\n        secondary1.sequence_id = \"2\"\n        secondary1.cable_length = \"6\"\n        # secondary2 = chassis_chain1.secondary.add()\n        # secondary2.location = \"10.39.32.161\"\n        # secondary2.sequence_id = \"3\"\n        # secondary2.cable_length = \"3\"\n        # chassis_chain2 = ixnconfig.chassis_chains.add()\n        # chassis_chain2.primary = \"10.39.32.151\"\n        # chassis_chain2.topology = chassis_chain2.DAISY\n        # secondary3 = chassis_chain2.secondary.add()\n        # secondary3.location = \"10.39.32.162\"\n        # secondary3.sequence_id = \"4\"\n        # secondary3.cable_length = \"3\"\n        # secondary4 = chassis_chain2.secondary.add()\n        # secondary4.location = \"10.39.32.163\"\n        # secondary4.sequence_id = \"5\"\n        # secondary4.cable_length = \"3\"\n    \n        f = b2b_raw_config.flows[0]\n        f.packet.ethernet().ipv4()\n        ipv4 = f.packet[1]\n        phb = (\n            [\"DEFAULT\"]\n            + [\"CS%d\" % i for i in range(1, 4)]\n            + [\"AF%d\" % i for j in range(11, 51, 10) for i in range(j, j + 3)]\n        )\n        phb = phb + [\"EF46\"]\n        af_ef = [\n            \"10\",\n            \"12\",\n        ]\n        for i, p in enumerate(phb):\n            # https://github.com/open-traffic-generator/snappi/issues/25\n            # currently assigning the choice as work around\n            ipv4.priority.choice = ipv4.priority.DSCP\n            ipv4.priority.dscp.phb.value = getattr(ipv4.priority.dscp.phb, p)\n            ipv4.priority.dscp.ecn.value = 3\n            api.set_config(b2b_raw_config)\n            if i == 0:\n                attrs = {\"Default PHB\": str(i)}\n                attrs[\"ipv4.header.priority.ds.phb.defaultPHB.unused\"] = \"3\"\n            elif i > 0 and i < 8:\n                attrs = {\"Class selector PHB\": str(i * 8)}\n                attrs[\"ipv4.header.priority.ds.phb.classSelectorPHB.unused\"] = \"3\"\n            elif i > 7 and i < (len(phb) - 1):\n                attrs = {\"Assured forwarding PHB\": af_ef[i - 8]}\n                attrs[\n                    \"ipv4.header.priority.ds.phb.assuredForwardingPHB.unused\"\n                ] = \"3\"\n            else:\n                attrs = {\"Expedited forwarding PHB\": af_ef[-1]}\n                attrs[\n                    \"ipv4.header.priority.ds.phb.expeditedForwardingPHB.unused\"\n                ] = \"3\"\n    \n            utils.validate_config(api, \"f1\", \"ipv4\", **attrs)\n    \n            chassis = api._ixnetwork.AvailableHardware.Chassis\n            chassis.find(Hostname=\"^%s$\" % chassis_chain1.primary)\n>           assert len(chassis) == 1\nE           assert 0 == 1\nE            +  where 0 = len(<ixnetwork_restpy.testplatform.sessions.ixnetwork.availablehardware.chassis.chassis.Chassis object at 0x7f3470f06b40>)\n\ntests/chassischain/test_chassis_chain_support.py:77: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"steps":[{"name":"--------------------------------- Captured Log ---------------------------------","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"INFO     snappi_ixnetwork.snappi_api:snappi_api.py:1461 Config validation 0.004s","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"INFO     snappi_ixnetwork.snappi_api:snappi_api.py:1461 Ports configuration 13.701s","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"INFO     snappi_ixnetwork.snappi_api:snappi_api.py:1461 Captures configuration 0.575s","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"INFO     snappi_ixnetwork.snappi_api:snappi_api.py:1461 Location hosts ready [novus1-715849.ccu.is.keysight.com] 0.101s","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"INFO     snappi_ixnetwork.snappi_api:snappi_api.py:1461 Speed change not require due to redundant Layer1 config","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"INFO     snappi_ixnetwork.snappi_api:snappi_api.py:1461 Aggregation mode speed change 0.003s","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"INFO     snappi_ixnetwork.snappi_api:snappi_api.py:1461 Location preemption [novus1-715849.ccu.is.keysight.com;1;1, novus1-715849.ccu.is.keysight.com;1;2] 0.112s","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"INFO     snappi_ixnetwork.snappi_api:snappi_api.py:1461 Location connect [tx, rx] 2.102s","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"WARNING  root:snappi_api.py:1467 tx connectedLinkDown","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"WARNING  root:snappi_api.py:1467 rx connectedLinkDown","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"INFO     snappi_ixnetwork.snappi_api:snappi_api.py:1461 Location state check [tx, rx] 0.298s","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"INFO     snappi_ixnetwork.snappi_api:snappi_api.py:1461 Location configuration 3.670s","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"INFO     snappi_ixnetwork.snappi_api:snappi_api.py:1461 Layer1 configuration 1.638s","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"INFO     snappi_ixnetwork.snappi_api:snappi_api.py:1461 Lag Configuration 0.089s","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"INFO     snappi_ixnetwork.snappi_api:snappi_api.py:1461 Convert device config : 0.309s","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"INFO     snappi_ixnetwork.snappi_api:snappi_api.py:1461 Create IxNetwork device config : 0.000s","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"INFO     snappi_ixnetwork.snappi_api:snappi_api.py:1461 Push IxNetwork device config : 0.092s","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"INFO     snappi_ixnetwork.snappi_api:snappi_api.py:1461 Devices configuration 0.498s","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"INFO     snappi_ixnetwork.snappi_api:snappi_api.py:1461 Flows configuration 1.787s","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"INFO     snappi_ixnetwork.snappi_api:snappi_api.py:1461 Start interfaces 0.275s","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"INFO     snappi_ixnetwork.snappi_api:snappi_api.py:1461 IxNet - Protocols Version Mismatch.","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"IxNetwork Protocols Version: 10.80.2412.12","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Chassis Protocols Version: 10.50.2410.2","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"INFO     snappi_ixnetwork.snappi_api:snappi_api.py:1461 IxNet - The Traffic Item configuration has changed and it needs to be regenerated before applying it to the Ixia hardware","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"INFO     snappi_ixnetwork.snappi_api:snappi_api.py:1461 IxNet - The Traffic Item was modified. Please perform a Traffic Generate to update the associated traffic Flow Groups","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"--------------------------------- Captured Out ---------------------------------","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":27,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"resultFormat","value":"junit"},{"name":"suite","value":"pytest"},{"name":"host","value":"snappi-ixn-ci-novus10g"},{"name":"testClass","value":"chassischain.test_chassis_chain_support"},{"name":"package","value":"chassischain.test_chassis_chain_support"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":50,"broken":0,"skipped":0,"passed":0,"unknown":0,"total":50},"items":[{"uid":"732e9cdf8f5ca609","status":"failed","statusDetails":"assert 0 == 1\n +  where 0 = len(<ixnetwork_restpy.testplatform.sessions.ixnetwork.availablehardware.chassis.chassis.Chassis object at 0x7f4917224640>)","time":{"start":1744607503134,"stop":1744607525798,"duration":22664}},{"uid":"467eb52c77e5d170","status":"failed","statusDetails":"assert 0 == 1\n +  where 0 = len(<ixnetwork_restpy.testplatform.sessions.ixnetwork.availablehardware.chassis.chassis.Chassis object at 0x7fbb167e6f40>)","time":{"start":1744319569642,"stop":1744319592079,"duration":22437}},{"uid":"cd1c6f4f180bf112","status":"failed","statusDetails":"assert 0 == 1\n +  where 0 = len(<ixnetwork_restpy.testplatform.sessions.ixnetwork.availablehardware.chassis.chassis.Chassis object at 0x7f5efdbd65c0>)","time":{"start":1744308828836,"stop":1744308850862,"duration":22026}},{"uid":"ddaab978a9ae15bd","status":"failed","statusDetails":"assert 0 == 1\n +  where 0 = len(<ixnetwork_restpy.testplatform.sessions.ixnetwork.availablehardware.chassis.chassis.Chassis object at 0x7fe87cf95640>)","time":{"start":1744118178111,"stop":1744118200989,"duration":22878}},{"uid":"f58464b644e5dc2","status":"failed","statusDetails":"assert 0 == 1\n +  where 0 = len(<ixnetwork_restpy.testplatform.sessions.ixnetwork.availablehardware.chassis.chassis.Chassis object at 0x7f0d3aa767c0>)","time":{"start":1744106575909,"stop":1744106599068,"duration":23159}},{"uid":"d5d1cdc5b450c424","status":"failed","statusDetails":"assert 0 == 1\n +  where 0 = len(<ixnetwork_restpy.testplatform.sessions.ixnetwork.availablehardware.chassis.chassis.Chassis object at 0x7f2407ea3ac0>)","time":{"start":1743796899201,"stop":1743796919903,"duration":20702}},{"uid":"6378d5a59aaaf5d6","status":"failed","statusDetails":"assert 0 == 1\n +  where 0 = len(<ixnetwork_restpy.testplatform.sessions.ixnetwork.availablehardware.chassis.chassis.Chassis object at 0x7f6824d2ed40>)","time":{"start":1743756339018,"stop":1743756361816,"duration":22798}},{"uid":"cfb7ada2eeea87c3","status":"failed","statusDetails":"assert 0 == 1\n +  where 0 = len(<ixnetwork_restpy.testplatform.sessions.ixnetwork.availablehardware.chassis.chassis.Chassis object at 0x7f45cb4f8e40>)","time":{"start":1743749241780,"stop":1743749266520,"duration":24740}},{"uid":"9da65f76426b628c","status":"failed","statusDetails":"assert 0 == 1\n +  where 0 = len(<ixnetwork_restpy.testplatform.sessions.ixnetwork.availablehardware.chassis.chassis.Chassis object at 0x7f1eec64eac0>)","time":{"start":1743703353732,"stop":1743703375421,"duration":21689}},{"uid":"e00720cc28718f9c","status":"failed","statusDetails":"assert 0 == 1\n +  where 0 = len(<ixnetwork_restpy.testplatform.sessions.ixnetwork.availablehardware.chassis.chassis.Chassis object at 0x7f591c3c32c0>)","time":{"start":1743696488928,"stop":1743696515355,"duration":26427}},{"uid":"1c3f274c8e1e25fa","status":"failed","statusDetails":"assert 0 == 1\n +  where 0 = len(<ixnetwork_restpy.testplatform.sessions.ixnetwork.availablehardware.chassis.chassis.Chassis object at 0x7f1473562240>)","time":{"start":1743689614468,"stop":1743689638769,"duration":24301}},{"uid":"3490f986dcf587af","status":"failed","statusDetails":"assert 0 == 1\n +  where 0 = len(<ixnetwork_restpy.testplatform.sessions.ixnetwork.availablehardware.chassis.chassis.Chassis object at 0x7feb7e47acc0>)","time":{"start":1743655642521,"stop":1743655664105,"duration":21584}},{"uid":"68aecbecb229a3a9","status":"failed","statusDetails":"assert 0 == 1\n +  where 0 = len(<ixnetwork_restpy.testplatform.sessions.ixnetwork.availablehardware.chassis.chassis.Chassis object at 0x7f96cc5879c0>)","time":{"start":1743167009876,"stop":1743167034881,"duration":25005}},{"uid":"aa7acc363683e829","status":"failed","statusDetails":"assert 0 == 1\n +  where 0 = len(<ixnetwork_restpy.testplatform.sessions.ixnetwork.availablehardware.chassis.chassis.Chassis object at 0x7fe464ef24c0>)","time":{"start":1743158796170,"stop":1743158817754,"duration":21584}},{"uid":"89b9eb702cb788f0","status":"failed","statusDetails":"assert 0 == 1\n +  where 0 = len(<ixnetwork_restpy.testplatform.sessions.ixnetwork.availablehardware.chassis.chassis.Chassis object at 0x7f7a040f00c0>)","time":{"start":1743154377859,"stop":1743154405085,"duration":27226}},{"uid":"6ac6ec8ee2ac740f","status":"failed","statusDetails":"assert 0 == 1\n +  where 0 = len(<ixnetwork_restpy.testplatform.sessions.ixnetwork.availablehardware.chassis.chassis.Chassis object at 0x7fc60f697940>)","time":{"start":1743142356248,"stop":1743142377595,"duration":21347}},{"uid":"e8bd557a27310eb5","status":"failed","statusDetails":"assert 0 == 1\n +  where 0 = len(<ixnetwork_restpy.testplatform.sessions.ixnetwork.availablehardware.chassis.chassis.Chassis object at 0x7f0dd1d66540>)","time":{"start":1743134333235,"stop":1743134355190,"duration":21955}},{"uid":"aef3412c9a113aa6","status":"failed","statusDetails":"assert 0 == 1\n +  where 0 = len(<ixnetwork_restpy.testplatform.sessions.ixnetwork.availablehardware.chassis.chassis.Chassis object at 0x7fee41e45fc0>)","time":{"start":1743107933073,"stop":1743107953540,"duration":20467}},{"uid":"a8aae0e72fbd913f","status":"failed","statusDetails":"assert 0 == 1\n +  where 0 = len(<ixnetwork_restpy.testplatform.sessions.ixnetwork.availablehardware.chassis.chassis.Chassis object at 0x7f54bccbfec0>)","time":{"start":1743101127011,"stop":1743101149742,"duration":22731}},{"uid":"9b6a79d2f3fb9a1c","status":"failed","statusDetails":"assert 0 == 1\n +  where 0 = len(<ixnetwork_restpy.testplatform.sessions.ixnetwork.availablehardware.chassis.chassis.Chassis object at 0x7f84d665fe40>)","time":{"start":1743094320105,"stop":1743094344969,"duration":24864}}]},"tags":[]},"source":"2f43b24056b79d97.json","parameterValues":[]}