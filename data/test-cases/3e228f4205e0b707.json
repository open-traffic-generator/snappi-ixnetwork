{"uid":"3e228f4205e0b707","name":"test_isis_v6_rr","historyId":"pytest:isis.test_isis_v6_route#test_isis_v6_rr","time":{"start":1771499953069,"stop":1771500067956,"duration":114887},"status":"failed","statusMessage":"AssertionError: assert 1 >= 2\n +  where 1 = getattr(<snappi.snappi.IsisMetric object at 0x7f40bf91ff60>, 'l1_database_size')","statusTrace":"api = <snappi_ixnetwork.snappi_api.Api object at 0x7f40c1196860>\nb2b_raw_config = <snappi.snappi.Config object at 0x7f40bf96bf10>\nutils = <module 'utils' from '/home/github-runner/actions-runner/_work/snappi-ixnetwork/snappi-ixnetwork/tests/utils/__init__.py'>\n\n    def test_isis_v6_rr(api, b2b_raw_config, utils):\n        \"\"\"Test only isis with v6 route range\n        - set_config\n        - start protocols\n        - verify isis metrics\n        \"\"\"\n        api.set_config(api.config())\n        b2b_raw_config.flows.clear()\n    \n        # Adding ports\n        p1, p2 = b2b_raw_config.ports\n    \n        # Device\n        p1d1, p2d1 = b2b_raw_config.devices.device(name=\"p1d1\").device(name=\"p2d1\")\n    \n        # Ethernet\n        p1d1_eth, p2d1_eth = p1d1.ethernets.add(), p2d1.ethernets.add()\n        p1d1_eth.connection.port_name = p1.name\n        p1d1_eth.name = \"p1d1_eth\"\n        p1d1_eth.mac = \"00:00:00:01:01:01\"\n        p1d1_eth.mtu = 1500\n    \n        p2d1_eth.connection.port_name = p2.name\n        p2d1_eth.name = \"p2d1_eth\"\n        p2d1_eth.mac = \"00:00:00:02:02:02\"\n        p2d1_eth.mtu = 1500\n    \n        # port 1 device 1 ipv4\n        p1d1_ipv4 = p1d1_eth.ipv4_addresses.add()\n        p1d1_ipv4.address = \"1.1.1.2\"\n        p1d1_ipv4.gateway = \"1.1.1.1\"\n        p1d1_ipv4.name = \"p1d1_ipv4\"\n        p1d1_ipv4.prefix = 24\n    \n        # port 1 device 1 isis\n        p1d1_isis = p1d1.isis\n        p1d1_isis.name = \"p1d1_isis\"\n        p1d1_isis.system_id = \"640000000001\"\n    \n        # port 1 device 1 isis basic\n        p1d1_isis.basic.ipv4_te_router_id = p1d1_ipv4.address\n        p1d1_isis.basic.hostname = \"ixia-c-port1\"\n        p1d1_isis.basic.enable_wide_metric = True\n        p1d1_isis.basic.learned_lsp_filter = True\n    \n        # port 1 device 1 isis advance\n        p1d1_isis.advanced.area_addresses = [\"490001\"]\n        p1d1_isis.advanced.csnp_interval = 10000\n        p1d1_isis.advanced.enable_hello_padding = True\n        p1d1_isis.advanced.lsp_lifetime = 1200\n        p1d1_isis.advanced.lsp_mgroup_min_trans_interval = 5000\n        p1d1_isis.advanced.lsp_refresh_rate = 900\n        p1d1_isis.advanced.max_area_addresses = 3\n        p1d1_isis.advanced.max_lsp_size = 1492\n        p1d1_isis.advanced.psnp_interval = 2000\n        p1d1_isis.advanced.enable_attached_bit = False\n    \n        # port 1 device 1 isis interface\n        p1d1_isis_intf = p1d1_isis.interfaces.add()\n        p1d1_isis_intf.eth_name = p1d1_eth.name\n        p1d1_isis_intf.network_type = \"point_to_point\"\n        p1d1_isis_intf.level_type = \"level_1\"\n        p1d1_isis_intf.metric = 10\n        p1d1_isis_intf.name = \"p1d1_isis_intf\"\n        p1d1_isis_intf.l2_settings.dead_interval = 30\n        p1d1_isis_intf.l2_settings.hello_interval = 10\n        p1d1_isis_intf.l2_settings.priority = 0\n        p1d1_isis_intf.advanced.auto_adjust_supported_protocols = True\n    \n        # port 1 device 1 isis v4 routes\n        p1d1_isis_v6routes = p1d1_isis.v6_routes.add()\n        p1d1_isis_v6routes.name = \"p1d1_isis_v6routes\"\n        p1d1_isis_v6routes.link_metric = 10\n        p1d1_isis_v6routes.origin_type = \"internal\"\n        p1d1_isis_v6routes_addr = p1d1_isis_v6routes.addresses.add()\n        p1d1_isis_v6routes_addr.address = \"1000:0:0:1::a\"\n        p1d1_isis_v6routes_addr.prefix = 64\n        p1d1_isis_v6routes_addr.count = 2\n        p1d1_isis_v6routes_addr.step = 1\n    \n        # port 2 device 1 ipv4\n        p2d1_ipv4 = p2d1_eth.ipv4_addresses.add()\n        p2d1_ipv4.address = \"1.1.1.1\"\n        p2d1_ipv4.gateway = \"1.1.1.2\"\n        p2d1_ipv4.name = \"p2d1_ipv4\"\n        p2d1_ipv4.prefix = 24\n    \n        # port 2 device 1 isis\n        p2d1_isis = p2d1.isis\n        p2d1_isis.name = \"p2d1_isis\"\n        p2d1_isis.system_id = \"650000000001\"\n    \n        # port 2 device 1 isis basic\n        p2d1_isis.basic.ipv4_te_router_id = p2d1_ipv4.address\n        p2d1_isis.basic.hostname = \"ixia-c-port2\"\n        p2d1_isis.basic.enable_wide_metric = True\n        p2d1_isis.basic.learned_lsp_filter = True\n    \n        # port 2 device 1 isis advanced\n        p2d1_isis.advanced.area_addresses = [\"490001\"]\n        p2d1_isis.advanced.csnp_interval = 10000\n        p2d1_isis.advanced.enable_hello_padding = True\n        p2d1_isis.advanced.lsp_lifetime = 1200\n        p2d1_isis.advanced.lsp_mgroup_min_trans_interval = 5000\n        p2d1_isis.advanced.lsp_refresh_rate = 900\n        p2d1_isis.advanced.max_area_addresses = 3\n        p2d1_isis.advanced.max_lsp_size = 1492\n        p2d1_isis.advanced.psnp_interval = 2000\n        p2d1_isis.advanced.enable_attached_bit = False\n    \n        # port 2 device 1 isis interface\n        p2d1_isis_intf = p2d1_isis.interfaces.add()\n        p2d1_isis_intf.eth_name = p2d1_eth.name\n        p2d1_isis_intf.network_type = \"point_to_point\"\n        p2d1_isis_intf.level_type = \"level_1\"\n        p2d1_isis_intf.metric = 10\n        p2d1_isis_intf.name = \"p2d1_isis_intf\"\n        p2d1_isis_intf.l2_settings.dead_interval = 30\n        p2d1_isis_intf.l2_settings.hello_interval = 10\n        p2d1_isis_intf.l2_settings.priority = 0\n        p2d1_isis_intf.advanced.auto_adjust_supported_protocols = True\n    \n        # port 2 device 1 isis v4 routes\n        p2d1_isis_v6routes = p2d1_isis.v6_routes.add()\n        p2d1_isis_v6routes.name = \"p2d1_isis_v6routes\"\n        p2d1_isis_v6routes.link_metric = 10\n        p2d1_isis_v6routes.origin_type = \"internal\"\n        p2d1_isis_v6routes_addr = p2d1_isis_v6routes.addresses.add()\n        p2d1_isis_v6routes_addr.address = \"1000:0:0:1::b\"\n        p2d1_isis_v6routes_addr.prefix = 64\n        p2d1_isis_v6routes_addr.count = 2\n        p2d1_isis_v6routes_addr.step = 1\n    \n        utils.start_traffic(api, b2b_raw_config)\n    \n        enums = [\n            \"l1_sessions_up\",\n            \"l1_session_flap\",\n            \"l1_database_size\",\n        ]\n    \n        expected_results = {\n            \"p1d1\": [1, 0, 2],\n            \"p2d1\": [1, 0, 2],\n        }\n    \n        time.sleep(10)\n    \n        # IS-IS metrics\n        req = api.metrics_request()\n        req.isis.router_names = []\n        req.isis.column_names = enums[:3]\n        results = api.get_metrics(req)\n    \n        assert len(results.isis_metrics) == 2\n        for isis_res in results.isis_metrics:\n            for i, enum in enumerate(enums[:3]):\n                val = expected_results[isis_res.name][i]\n                if \"l1_sessions_up\" in enum:\n                    assert getattr(isis_res, enum) == val\n                else:\n>                   assert getattr(isis_res, enum) >= val\nE                   AssertionError: assert 1 >= 2\nE                    +  where 1 = getattr(<snappi.snappi.IsisMetric object at 0x7f40bf91ff60>, 'l1_database_size')\n\ntests/isis/test_isis_v6_route.py:166: AssertionError","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"steps":[{"name":"--------------------------------- Captured Log ---------------------------------","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"--------------------------------- Captured Out ---------------------------------","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"resultFormat","value":"junit"},{"name":"suite","value":"pytest"},{"name":"host","value":"snappi-ixn-ci-novus10g"},{"name":"testClass","value":"isis.test_isis_v6_route"},{"name":"package","value":"isis.test_isis_v6_route"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":13,"broken":0,"skipped":0,"passed":113,"unknown":0,"total":126},"items":[{"uid":"5e4c504345747c7d","status":"passed","time":{"start":1771490556940,"stop":1771490675363,"duration":118423}},{"uid":"7a120a31ea8e5147","status":"passed","time":{"start":1771481382066,"stop":1771481496030,"duration":113964}},{"uid":"f8eb2c31f6472446","status":"passed","time":{"start":1771431963126,"stop":1771432068207,"duration":105081}},{"uid":"7c1b054a5abc8183","status":"passed","time":{"start":1771422245086,"stop":1771422359314,"duration":114228}},{"uid":"9ee87401c50ca2ab","status":"passed","time":{"start":1771299850499,"stop":1771299972198,"duration":121699}},{"uid":"1072e33efa2f2cd5","status":"passed","time":{"start":1771257408887,"stop":1771257518131,"duration":109244}},{"uid":"ad13f42eb268d8f5","status":"passed","time":{"start":1770958578467,"stop":1770958683929,"duration":105462}},{"uid":"6b13aa33f0129e45","status":"passed","time":{"start":1770371085975,"stop":1770371195615,"duration":109640}},{"uid":"a96a51e88eea604","status":"passed","time":{"start":1770209818625,"stop":1770209911351,"duration":92726}},{"uid":"7c9ef9080c047293","status":"passed","time":{"start":1770191080383,"stop":1770191197904,"duration":117521}},{"uid":"cde33a59928c9309","status":"passed","time":{"start":1770178714922,"stop":1770178822024,"duration":107102}},{"uid":"ee882a817cfcead7","status":"passed","time":{"start":1770096090928,"stop":1770096200242,"duration":109314}},{"uid":"fa9b9a1cf10f785b","status":"passed","time":{"start":1770024287878,"stop":1770024400783,"duration":112905}},{"uid":"572b0251c73e3598","status":"passed","time":{"start":1770015142517,"stop":1770015236852,"duration":94335}},{"uid":"7c6c79bbd27ec67c","status":"passed","time":{"start":1769683393795,"stop":1769683501267,"duration":107472}},{"uid":"1afaf48deeab4a25","status":"passed","time":{"start":1769672517079,"stop":1769672623910,"duration":106831}},{"uid":"f7d386b0d3f0e9a3","status":"passed","time":{"start":1769663188141,"stop":1769663299310,"duration":111169}},{"uid":"eae590b36d471ee","status":"passed","time":{"start":1769624848819,"stop":1769624970016,"duration":121197}},{"uid":"1efd2e0523911ac5","status":"passed","time":{"start":1769595680741,"stop":1769595790057,"duration":109316}},{"uid":"faa0a21bbc1fcda7","status":"passed","time":{"start":1769585543268,"stop":1769585642434,"duration":99166}}]},"tags":[]},"source":"3e228f4205e0b707.json","parameterValues":[]}