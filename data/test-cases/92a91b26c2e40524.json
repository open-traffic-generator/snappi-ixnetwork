{"uid":"92a91b26c2e40524","name":"test_validate_config_nested_objects","historyId":"pytest:unit.test_validation.TestValidation#test_validate_config_nested_objects","time":{"start":1769077516718,"stop":1769077516722,"duration":4},"status":"failed","statusMessage":"AssertionError: Expected 'validate' to have been called once. Called 0 times.","statusTrace":"self = <unit.test_validation.TestValidation object at 0x7f0b71dd94e0>\n\n    def test_validate_config_nested_objects(self):\n        \"\"\"Test validate_config with nested snappi objects\"\"\"\n        # Create nested structure: config -> device -> ethernet\n        ethernet = Mock()\n        ethernet.validate = Mock()\n        ethernet._properties = [\"name\", \"mac\"]\n        ethernet.get.side_effect = lambda x: {\n            \"name\": \"eth1\",\n            \"mac\": \"00:11:22:33:44:55\",\n        }.get(x)\n        ethernet.__class__.__name__ = \"Ethernet\"\n        ethernet.__module__ = \"snappi.ethernet\"\n    \n        device = Mock()\n        device.validate = Mock()\n        device._properties = [\"name\", \"ethernet\"]\n        device.get.side_effect = lambda x: {\n            \"name\": \"device1\",\n            \"ethernet\": ethernet,\n        }.get(x)\n        device.__class__.__name__ = \"Device\"\n        device.__module__ = \"snappi.device\"\n        device.parent = None\n    \n        config = Mock()\n        config.validate = Mock()\n        config._properties = [\"devices\"]\n        config.__class__.__name__ = \"Config\"\n    \n        devices_iter = Mock()\n        devices_iter.__module__ = \"snappi.devices\"\n        devices_iter.__iter__ = Mock(return_value=iter([device]))\n    \n        config.get.side_effect = lambda x: devices_iter if x == \"devices\" else None\n    \n        with patch(\"builtins.hasattr\", return_value=False):\n            with patch(\"builtins.dir\", return_value=[\"__module__\"]):\n                self.api.snappi_config = config\n    \n                self.validation.validate_config()\n    \n                # Both device and ethernet should have been validated\n>               device.validate.assert_called_once()\n\ntests/unit/test_validation.py:261: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <Mock name='mock.validate' id='139687110205856'>\n\n    def assert_called_once(self):\n        \"\"\"assert that the mock was called only once.\n        \"\"\"\n        if not self.call_count == 1:\n            msg = (\"Expected '%s' to have been called once. Called %s times.%s\"\n                   % (self._mock_name or 'mock',\n                      self.call_count,\n                      self._calls_repr()))\n>           raise AssertionError(msg)\nE           AssertionError: Expected 'validate' to have been called once. Called 0 times.\n\n/usr/lib/python3.10/unittest/mock.py:908: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"steps":[{"name":"--------------------------------- Captured Log ---------------------------------","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"--------------------------------- Captured Out ---------------------------------","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"resultFormat","value":"junit"},{"name":"suite","value":"pytest"},{"name":"host","value":"snappi-ixn-ci-novus10g"},{"name":"testClass","value":"unit.test_validation.TestValidation"},{"name":"package","value":"unit.test_validation.TestValidation"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"92a91b26c2e40524.json","parameterValues":[]}