{"uid":"f6946f8d04741854","name":"test_ipv6_fields","historyId":"pytest:ipv6.test_ipv6_fields#test_ipv6_fields","time":{"start":1753368506584,"stop":1753368506613,"duration":29},"status":"failed","statusMessage":"snappi_ixnetwork.exceptions.SnappiIxnException:   File \"/home/github-runner/actions-runner/_work/snappi-ixnetwork/snappi-ixnetwork/snappi_ixnetwork/snappi_api.py\", line 283, in set_config\n    self.config_ixnetwork(config)\n  File \"/home/github-runner/actions-runner/_work/snappi-ixnetwork/snappi-ixnetwork/snappi_ixnetwork/snappi_api.py\", line 362, in config_ixnetwork\n    self._connect()\n  File \"/home/github-runner/actions-runner/_work/snappi-ixnetwork/snappi-ixnetwork/snappi_ixnetwork/snappi_api.py\", line 1007, in _connect\n    platform = TestPlatform(self._address, rest_port=self._port)\n  File \"/home/github-runner/actions-runner/_work/snappi-ixnetwork/snappi-ixnetwork/.env/lib/python3.10/site-packages/ixnetwork_restpy/testplatform/testplatform.py\", line 80, in __init__\n    self._connection = Connection(\n  File \"/home/github-runner/actions-runner/_work/snappi-ixnetwork/snappi-ixnetwork/.env/lib/python3.10/site-packages/ixnetwork_restpy/connection.py\", line 151, in __init__\n    self._scheme = self._determine_test_tool_platform(platform)\n  File \"/home/github-runner/actions-runner/_work/snappi-ixnetwork/snappi-ixnetwork/.env/lib/python3.10/site-packages/ixnetwork_restpy/connection.py\", line 220, in _determine_test_tool_platform\n    raise ConnectionError(\n Unable to connect to novus1-715849.ccu.is.keysight.com. Check the ip address and consider the rest_port parameter.","statusTrace":"self = <snappi_ixnetwork.snappi_api.Api object at 0x7f21b3aa0940>\nconfig = <snappi.snappi.Config object at 0x7f21b34e1620>\n\n    def set_config(self, config):\n        \"\"\"Set, update, append or delete the configuration\"\"\"\n        try:\n            if isinstance(config, (type(self._config_type), str)) is False:\n                raise TypeError(\n                    \"The content must be of type Union[Config, str]\"\n                )\n    \n            if isinstance(config, str) is True:\n                config = self._config_type.deserialize(config)\n>           self.config_ixnetwork(config)\n\nsnappi_ixnetwork/snappi_api.py:283: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nsnappi_ixnetwork/snappi_api.py:362: in config_ixnetwork\n    self._connect()\nsnappi_ixnetwork/snappi_api.py:1007: in _connect\n    platform = TestPlatform(self._address, rest_port=self._port)\n.env/lib/python3.10/site-packages/ixnetwork_restpy/testplatform/testplatform.py:80: in __init__\n    self._connection = Connection(\n.env/lib/python3.10/site-packages/ixnetwork_restpy/connection.py:151: in __init__\n    self._scheme = self._determine_test_tool_platform(platform)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <ixnetwork_restpy.connection.Connection object at 0x7f21b3551f00>\nplatform = None\n\n    def _determine_test_tool_platform(self, platform):\n        self._info(\n            \"Determining the platform and rest_port using the %s address...\"\n            % self._hostname\n        )\n        if platform is not None:\n            self._warn(\n                \"The `platform` parameter is deprecated and the value `%s` will be ignored.\"\n                % platform\n            )\n        self._platform = None\n        rest_ports = [443, 11009]\n        if self._rest_port is not None:\n            if self._rest_port in rest_ports:\n                rest_ports.remove(self._rest_port)\n            rest_ports.insert(0, self._rest_port)\n        for rest_port in rest_ports:\n            for scheme in [\"http\", \"https\"]:\n                try:\n                    if self._url_prefix is not None:\n                        url = \"%s://%s:%s/%s/api/v1/auth/session\" % (\n                            scheme,\n                            self._hostname,\n                            rest_port,\n                            self._url_prefix,\n                        )\n                    else:\n                        url = \"%s://%s:%s/api/v1/auth/session\" % (\n                            scheme,\n                            self._hostname,\n                            rest_port,\n                        )\n                    payload = json.dumps({\"username\": \"\", \"password\": \"\"})\n                    headers = self._headers\n                    headers[\"content-type\"] = \"application/json\"\n                    response = self._request(\n                        method=\"POST\",\n                        url=url,\n                        data=payload,\n                        headers=headers,\n                        verify=self._verify_cert,\n                        timeout=2,\n                    )\n                    if response.status_code in [401, 403, 200]:\n                        if \"server\" not in response.headers:\n                            response.headers[\"server\"] = \"Jetty\"\n                        for server in Connection.PLATFORMS:\n                            if server in response.headers[\"server\"]:\n                                self._platform = Connection.PLATFORMS[server]\n                                self._rest_port = rest_port\n                                self._info(\n                                    \"Connection established to `%s://%s:%s on %s`\"\n                                    % (\n                                        scheme,\n                                        self._hostname,\n                                        self._rest_port,\n                                        self._platform,\n                                    )\n                                )\n                                return scheme\n                    else:\n                        raise Exception()\n                except Exception as e:\n                    self._warn(\n                        \"Unable to connect to %s://%s:%s.\"\n                        % (scheme, self._hostname, rest_port)\n                    )\n>       raise ConnectionError(\n            \"Unable to connect to %s. Check the ip address and consider the rest_port parameter.\"\n            % self._hostname\n        )\nE       ixnetwork_restpy.errors.ConnectionError: Unable to connect to novus1-715849.ccu.is.keysight.com. Check the ip address and consider the rest_port parameter.\n\n.env/lib/python3.10/site-packages/ixnetwork_restpy/connection.py:220: ConnectionError\n\nDuring handling of the above exception, another exception occurred:\n\napi = <snappi_ixnetwork.snappi_api.Api object at 0x7f21b3aa0940>\nb2b_raw_config_vports = <snappi.snappi.Config object at 0x7f21b34e1620>\nutils = <module 'utils' from '/home/github-runner/actions-runner/_work/snappi-ixnetwork/snappi-ixnetwork/tests/utils/__init__.py'>\ntx_vport = <snappi.snappi.Port object at 0x7f21b3519a30>\nrx_vport = <snappi.snappi.Port object at 0x7f21b35189f0>\n\n    def test_ipv6_fields(api, b2b_raw_config_vports, utils, tx_vport, rx_vport):\n        \"\"\"\n        Configure three raw raw IPv6 flows with ,\n        - fixed pattern for the fields\n        - list pattern for the fields\n        - counter pattern for the fields\n    \n        Validate,\n        - Fetch the IPv6 header config via restpy and validate\n          against expected\n        \"\"\"\n        # fixed\n        flow1 = b2b_raw_config_vports.flows[0]\n        src = \"00:0C:29:E3:53:EA\"\n        dst = \"00:0C:29:E3:53:F4\"\n    \n        eth, ipv6 = flow1.packet.ethernet().ipv6()\n        eth.src.value = src\n        eth.dst.value = dst\n        ipv6.version.value = 15\n        ipv6.traffic_class.value = 255\n        ipv6.flow_label.value = 1048575\n        ipv6.payload_length.value = 255\n        ipv6.next_header.value = 255\n        ipv6.hop_limit.value = 255\n        ipv6.src.value = \"2001::1\"\n        ipv6.dst.value = \"2002::1\"\n    \n        # fixed validation\n        f1_attrs = {\n            \"Version\": str(ipv6.version.value),\n            \"Traffic Class\": str(ipv6.traffic_class.value),\n            \"Flow Label\": str(ipv6.flow_label.value),\n            # this value is learned\n            # \"Payload Length\": str(ipv6.payload_length.value),\n            \"Next Header\": str(ipv6.next_header.value),\n            \"Hop Limit\": str(ipv6.hop_limit.value),\n            \"Source Address\": ipv6.src.value,\n            \"Destination Address\": ipv6.dst.value,\n        }\n    \n        # list\n        flow2 = b2b_raw_config_vports.flows.flow(name=\"f2\")[-1]\n        flow2.tx_rx.port.tx_name = tx_vport.name\n        flow2.tx_rx.port.rx_name = rx_vport.name\n    \n        version_list = [0, 15]\n        traffic_class_list = [0, 15, 255]\n        flow_label_list = [0, 15, 255, 4095, 65535, 1048575]\n        next_header_list = [0, 15, 255]\n        hop_limit_list = [0, 15, 255]\n        src_ip_list = [\"2001::1\", \"2002::1\", \"2003::1\", \"2004::1\"]\n        dst_ip_list = [\"2005::1\", \"2006::1\", \"2007::1\", \"2008::1\"]\n    \n        eth, ipv6 = flow2.packet.ethernet().ipv6()\n        eth.src.value = src\n        eth.dst.value = dst\n        ipv6.version.values = version_list\n        ipv6.traffic_class.values = traffic_class_list\n        ipv6.flow_label.values = flow_label_list\n        ipv6.next_header.values = next_header_list\n        ipv6.hop_limit.values = hop_limit_list\n        ipv6.src.values = src_ip_list\n        ipv6.dst.values = dst_ip_list\n    \n        # # list validation\n        f2_attrs = {\n            \"Version\": [str(v) for v in version_list],\n            \"Traffic Class\": [str(t) for t in traffic_class_list],\n            \"Flow Label\": [str(f) for f in flow_label_list],\n            \"Next Header\": [str(n) for n in next_header_list],\n            \"Hop Limit\": [str(h) for h in hop_limit_list],\n            \"Source Address\": src_ip_list,\n            \"Destination Address\": dst_ip_list,\n        }\n    \n        # counter\n        flow3 = b2b_raw_config_vports.flows.flow(name=\"f3\")[-1]\n        flow3.tx_rx.port.tx_name = tx_vport.name\n        flow3.tx_rx.port.rx_name = rx_vport.name\n        fields = [\n            \"version\",\n            \"traffic_class\",\n            \"flow_label\",\n            \"next_header\",\n            \"hop_limit\",\n            \"src\",\n            \"dst\",\n        ]\n        start = [0, 0, 0, 0, 0, \"2001::1\", \"2002::1\"]\n        step = [1, 2, 4, 2, 2, \"1::\", \"1::\"]\n        count = [15, 128, 262144, 128, 128, 1000, 1000]\n    \n        eth, ipv6 = flow3.packet.ethernet().ipv6()\n        eth.src.value = src\n        eth.dst.value = dst\n        for i, field in enumerate(fields):\n            f_obj = getattr(ipv6, field)\n            f_obj.increment.start = start[i]\n            f_obj.increment.step = step[i]\n            f_obj.increment.count = count[i]\n    \n        # counter validation\n        keys = [\n            \"Version\",\n            \"Traffic Class\",\n            \"Flow Label\",\n            \"Next Header\",\n            \"Hop Limit\",\n            \"Source Address\",\n            \"Destination Address\",\n        ]\n        f3_attrs = dict()\n        for i, k in enumerate(keys):\n            f3_attrs[k] = (str(start[i]), str(step[i]), str(count[i]))\n    \n>       api.set_config(b2b_raw_config_vports)\n\ntests/ipv6/test_ipv6_fields.py:117: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <snappi_ixnetwork.snappi_api.Api object at 0x7f21b3aa0940>\nconfig = <snappi.snappi.Config object at 0x7f21b34e1620>\n\n    def set_config(self, config):\n        \"\"\"Set, update, append or delete the configuration\"\"\"\n        try:\n            if isinstance(config, (type(self._config_type), str)) is False:\n                raise TypeError(\n                    \"The content must be of type Union[Config, str]\"\n                )\n    \n            if isinstance(config, str) is True:\n                config = self._config_type.deserialize(config)\n            self.config_ixnetwork(config)\n            # CP-DP Convergence config\n            ixn_cpdpconvergence = self._traffic.Statistics.CpdpConvergence\n            ixn_cpdpconvergence.Enabled = False\n            cfg = config.get(\"events\")\n            if cfg is not None:\n                cp_events = cfg.get(\"cp_events\")\n                if cp_events is not None:\n                    cp_events_enable = cp_events.get(\"enable\")\n                else:\n                    cp_events_enable = False\n                dp_events = cfg.get(\"dp_events\")\n                if dp_events is not None:\n                    dp_events_enable = dp_events.get(\"enable\")\n                    rx_rate_threshold = dp_events.get(\"rx_rate_threshold\")\n                else:\n                    dp_events_enable = False\n                # Enable cp-dp convergence if any one of cp or dp is true\n                if cp_events_enable or dp_events_enable:\n                    ixn_cpdpconvergence.Enabled = True\n                    # For CP events\n                    if cp_events_enable:\n                        ixn_cpdpconvergence.EnableControlPlaneEvents = True\n                    # For DP events\n                    if dp_events_enable:\n                        if self.traffic_item.has_latency is True:\n                            raise Exception(\n                                \"We are supporting either latency or dp convergence\"\n                            )\n                        ixn_cpdpconvergence.EnableDataPlaneEventsRateMonitor = (\n                            True\n                        )\n                        ixn_cpdpconvergence.DataPlaneThreshold = (\n                            rx_rate_threshold\n                        )\n    \n                for ixn_traffic_item in self._traffic_item.find():\n                    ixn_traffic_item.Tracking.find()[0].TrackBy = [\n                        \"destEndpoint0\",\n                        \"destSessionDescription0\",\n                    ]\n            else:\n                ixn_cpdpconvergence.Enabled = False\n    \n        except Exception as err:\n>           raise SnappiIxnException(err)\nE           snappi_ixnetwork.exceptions.SnappiIxnException:   File \"/home/github-runner/actions-runner/_work/snappi-ixnetwork/snappi-ixnetwork/snappi_ixnetwork/snappi_api.py\", line 283, in set_config\nE               self.config_ixnetwork(config)\nE             File \"/home/github-runner/actions-runner/_work/snappi-ixnetwork/snappi-ixnetwork/snappi_ixnetwork/snappi_api.py\", line 362, in config_ixnetwork\nE               self._connect()\nE             File \"/home/github-runner/actions-runner/_work/snappi-ixnetwork/snappi-ixnetwork/snappi_ixnetwork/snappi_api.py\", line 1007, in _connect\nE               platform = TestPlatform(self._address, rest_port=self._port)\nE             File \"/home/github-runner/actions-runner/_work/snappi-ixnetwork/snappi-ixnetwork/.env/lib/python3.10/site-packages/ixnetwork_restpy/testplatform/testplatform.py\", line 80, in __init__\nE               self._connection = Connection(\nE             File \"/home/github-runner/actions-runner/_work/snappi-ixnetwork/snappi-ixnetwork/.env/lib/python3.10/site-packages/ixnetwork_restpy/connection.py\", line 151, in __init__\nE               self._scheme = self._determine_test_tool_platform(platform)\nE             File \"/home/github-runner/actions-runner/_work/snappi-ixnetwork/snappi-ixnetwork/.env/lib/python3.10/site-packages/ixnetwork_restpy/connection.py\", line 220, in _determine_test_tool_platform\nE               raise ConnectionError(\nE            Unable to connect to novus1-715849.ccu.is.keysight.com. Check the ip address and consider the rest_port parameter.\n\nsnappi_ixnetwork/snappi_api.py:328: SnappiIxnException","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"steps":[{"name":"--------------------------------- Captured Log ---------------------------------","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"--------------------------------- Captured Out ---------------------------------","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"resultFormat","value":"junit"},{"name":"suite","value":"pytest"},{"name":"host","value":"snappi-ixn-ci-novus10g"},{"name":"testClass","value":"ipv6.test_ipv6_fields"},{"name":"package","value":"ipv6.test_ipv6_fields"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":5,"broken":0,"skipped":0,"passed":172,"unknown":0,"total":177},"items":[{"uid":"3ed4d097d31a4787","status":"passed","time":{"start":1752836398951,"stop":1752836409233,"duration":10282}},{"uid":"c33641055191c771","status":"passed","time":{"start":1752760243902,"stop":1752760253662,"duration":9760}},{"uid":"88867a73f8965b3b","status":"passed","time":{"start":1752244885705,"stop":1752244896573,"duration":10868}},{"uid":"135a5d639823a9f7","status":"passed","time":{"start":1752145840252,"stop":1752145849978,"duration":9726}},{"uid":"980ff50019be1ff4","status":"passed","time":{"start":1751479010972,"stop":1751479020601,"duration":9629}},{"uid":"22f10339a5a944d6","status":"passed","time":{"start":1751472402834,"stop":1751472412040,"duration":9206}},{"uid":"8fcf230c227077c0","status":"passed","time":{"start":1751283215057,"stop":1751283226848,"duration":11791}},{"uid":"ecec925c621662ae","status":"passed","time":{"start":1751276144532,"stop":1751276155869,"duration":11337}},{"uid":"df73650960292b24","status":"passed","time":{"start":1751231642336,"stop":1751231653809,"duration":11473}},{"uid":"288f6ad88f51548","status":"passed","time":{"start":1750985352305,"stop":1750985362883,"duration":10578}},{"uid":"f497d06be4e8e41b","status":"passed","time":{"start":1750836697285,"stop":1750836709061,"duration":11776}},{"uid":"833c3d2b6ca1f241","status":"passed","time":{"start":1750656827226,"stop":1750656837542,"duration":10316}},{"uid":"9a332dbbc5202a75","status":"passed","time":{"start":1750246239210,"stop":1750246249615,"duration":10405}},{"uid":"6b35c7d18b9f8a93","status":"passed","time":{"start":1750239203710,"stop":1750239212576,"duration":8866}},{"uid":"30f5633cda24968","status":"passed","time":{"start":1749770085540,"stop":1749770094361,"duration":8821}},{"uid":"755d9dd21ab8ec8b","status":"passed","time":{"start":1749546564693,"stop":1749546577841,"duration":13148}},{"uid":"ecc3f24a2c1bcab2","status":"passed","time":{"start":1748968328989,"stop":1748968338691,"duration":9702}},{"uid":"1b8b2493ac4dd71d","status":"passed","time":{"start":1748929822995,"stop":1748929832545,"duration":9550}},{"uid":"74b0aecf6c6a8af9","status":"passed","time":{"start":1748864245704,"stop":1748864254966,"duration":9262}},{"uid":"c70f0a00ca983e83","status":"passed","time":{"start":1748857106711,"stop":1748857115543,"duration":8832}}]},"tags":[]},"source":"f6946f8d04741854.json","parameterValues":[]}