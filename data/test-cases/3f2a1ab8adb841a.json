{"uid":"3f2a1ab8adb841a","name":"test_traffic_transmit_state","historyId":"pytest:traffic.test_traffic_transmit_state#test_traffic_transmit_state","time":{"start":1769672517079,"stop":1769672591310,"duration":74231},"status":"failed","statusMessage":"Exception: Time out occurred while waiting for traffic to stop","statusTrace":"api = <snappi_ixnetwork.snappi_api.Api object at 0x7f23602db520>\nb2b_raw_config = <snappi.snappi.Config object at 0x7f235eb59030>\nutils = <module 'utils' from '/home/github-runner/actions-runner/_work/snappi-ixnetwork/snappi-ixnetwork/tests/utils/__init__.py'>\n\n    def test_traffic_transmit_state(api, b2b_raw_config, utils):\n        \"\"\"\n        configure two flows f1 and f2\n        - Send fixed packets from f1\n        - Send continuous packets from f2\n        - Send fixed packets from f3\n    \n        Validation:\n        1) Validate the transmit state of the f1 & f3\n           as stopped after packets exhausted\n        \"\"\"\n    \n        f1_packets = 1000\n        f1_size = 74\n        f2_size = 1500\n        ports = b2b_raw_config.ports\n        flow1 = b2b_raw_config.flows[0]\n        flow1.name = \"tx_flow1\"\n        flow1.packet.ethernet().ipv4()\n        flow1.packet[0].src.value = \"00:0c:29:1d:10:67\"\n        flow1.packet[0].dst.value = \"00:0c:29:1d:10:71\"\n        flow1.packet[1].src.value = \"10.10.10.1\"\n        flow1.packet[1].dst.value = \"10.10.10.2\"\n        flow2 = b2b_raw_config.flows.flow()[-1]\n        flow2.name = \"tx_flow2\"\n        flow2.tx_rx.port.tx_name = ports[0].name\n        flow2.tx_rx.port.rx_name = ports[1].name\n    \n        flow3 = b2b_raw_config.flows.flow()[-1]\n        flow3.name = \"tx_flow3\"\n        flow3.tx_rx.port.tx_name = ports[0].name\n        flow3.tx_rx.port.rx_name = ports[1].name\n    \n        flow1.duration.fixed_packets.packets = f1_packets\n        flow1.size.fixed = f1_size\n        flow1.rate.percentage = 10\n    \n        flow2.duration.continuous\n        flow2.size.fixed = f2_size\n        flow2.rate.percentage = 10\n    \n        flow3.duration.fixed_packets.packets = f1_packets\n        flow3.size.fixed = f2_size\n        flow3.rate.percentage = 10\n    \n        flow1.metrics.enable = True\n        flow1.metrics.loss = True\n    \n        flow3.metrics.enable = True\n        flow3.metrics.loss = True\n    \n        utils.start_traffic(api, b2b_raw_config)\n        import time\n    \n        time.sleep(10)\n>       utils.wait_for(\n            lambda: utils.is_traffic_stopped(\n                api, flow_names=[\"tx_flow1\", \"tx_flow3\"]\n            ),\n            \"traffic to stop\",\n        )\n\ntests/traffic/test_traffic_transmit_state.py:56: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nfunc = <function test_traffic_transmit_state.<locals>.<lambda> at 0x7f235dd7a4d0>\ncondition_str = 'traffic to stop', interval_seconds = 0.5, timeout_seconds = 30\n\n    def wait_for(func, condition_str, interval_seconds=None, timeout_seconds=None):\n        \"\"\"\n        Keeps calling the `func` until it returns true or `timeout_seconds` occurs\n        every `interval_seconds`. `condition_str` should be a constant string\n        implying the actual condition being tested.\n        Usage\n        -----\n        If we wanted to poll for current seconds to be divisible by `n`, we would\n        implement something similar to following:\n        ```\n        import time\n        def wait_for_seconds(n, **kwargs):\n            condition_str = 'seconds to be divisible by %d' % n\n            def condition_satisfied():\n                return int(time.time()) % n == 0\n            poll_until(condition_satisfied, condition_str, **kwargs)\n        ```\n        \"\"\"\n        if interval_seconds is None:\n            interval_seconds = settings.interval_seconds\n        if timeout_seconds is None:\n            timeout_seconds = settings.timeout_seconds\n        start_seconds = int(time.time())\n    \n        print(\"\\n\\nWaiting for %s ...\" % condition_str)\n        while True:\n            res = func()\n            if res:\n                print(\"Done waiting for %s\" % condition_str)\n                break\n            if res is None:\n                raise Exception(\"Wait aborted for %s\" % condition_str)\n            if timed_out(start_seconds, timeout_seconds):\n                msg = \"Time out occurred while waiting for %s\" % condition_str\n>               raise Exception(msg)\nE               Exception: Time out occurred while waiting for traffic to stop\n\ntests/utils/common.py:224: Exception","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"steps":[{"name":"--------------------------------- Captured Log ---------------------------------","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"--------------------------------- Captured Out ---------------------------------","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"resultFormat","value":"junit"},{"name":"suite","value":"pytest"},{"name":"host","value":"snappi-ixn-ci-novus10g"},{"name":"testClass","value":"traffic.test_traffic_transmit_state"},{"name":"package","value":"traffic.test_traffic_transmit_state"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":12,"broken":0,"skipped":0,"passed":284,"unknown":0,"total":296},"items":[{"uid":"62cc2f9785294c60","status":"failed","statusDetails":"Exception: Time out occurred while waiting for traffic to stop","time":{"start":1769663188141,"stop":1769663262695,"duration":74554}},{"uid":"db583362351c5d94","status":"failed","statusDetails":"Exception: Time out occurred while waiting for traffic to stop","time":{"start":1769624848819,"stop":1769624930320,"duration":81501}},{"uid":"4c955ea2015de177","status":"passed","time":{"start":1769595680741,"stop":1769595734810,"duration":54069}},{"uid":"4961a1c2e2dd2f95","status":"passed","time":{"start":1769585543268,"stop":1769585595130,"duration":51862}},{"uid":"99b03dee87a3173e","status":"passed","time":{"start":1769077516718,"stop":1769077572462,"duration":55744}},{"uid":"4d18103739e768b5","status":"passed","time":{"start":1768561931952,"stop":1768561989205,"duration":57253}},{"uid":"d4c005c3fc6dc8dc","status":"passed","time":{"start":1768478161862,"stop":1768478221598,"duration":59736}},{"uid":"cd7b67cc8f81de0d","status":"passed","time":{"start":1768469097769,"stop":1768469151533,"duration":53764}},{"uid":"9c9a12d497e8e13e","status":"passed","time":{"start":1768448859665,"stop":1768448923369,"duration":63704}},{"uid":"8d38aa135c5a240e","status":"passed","time":{"start":1768372946323,"stop":1768373003429,"duration":57106}},{"uid":"f3f123b92f22e3fd","status":"passed","time":{"start":1767873824411,"stop":1767873881892,"duration":57481}},{"uid":"d263947087b1ab19","status":"passed","time":{"start":1767862092912,"stop":1767862149960,"duration":57048}},{"uid":"9f86d90c227f0c96","status":"passed","time":{"start":1767677129994,"stop":1767677185669,"duration":55675}},{"uid":"cb30c6050800ca3b","status":"passed","time":{"start":1765779386953,"stop":1765779440659,"duration":53706}},{"uid":"e58a81d262dd21a0","status":"passed","time":{"start":1765462253388,"stop":1765462309802,"duration":56414}},{"uid":"ef6a3ae760c5b913","status":"passed","time":{"start":1765452139269,"stop":1765452194073,"duration":54804}},{"uid":"9cf35c7d236cc678","status":"passed","time":{"start":1765442576325,"stop":1765442629173,"duration":52848}},{"uid":"633ececcd1305cf","status":"passed","time":{"start":1765433708748,"stop":1765433770506,"duration":61758}},{"uid":"f877fbf68af80c4","status":"passed","time":{"start":1765424930744,"stop":1765424986754,"duration":56010}},{"uid":"2fb1dd91d8576f18","status":"passed","time":{"start":1765398148379,"stop":1765398203947,"duration":55568}}]},"tags":[]},"source":"3f2a1ab8adb841a.json","parameterValues":[]}