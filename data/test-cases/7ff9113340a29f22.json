{"uid":"7ff9113340a29f22","name":"test_validate_config_skips_choice_none","historyId":"pytest:unit.test_validation.TestValidation#test_validate_config_skips_choice_none","time":{"start":1769077516718,"stop":1769077516723,"duration":5},"status":"failed","statusMessage":"RecursionError: maximum recursion depth exceeded","statusTrace":"self = <unit.test_validation.TestValidation object at 0x7f0b71ddba30>\n\n    def test_validate_config_skips_choice_none(self):\n        \"\"\"Test validate_config skips objects with choice = None\"\"\"\n        device = Mock()\n        device.validate = Mock()\n        device.choice = None\n        device._properties = [\"name\"]\n        device.__class__.__name__ = \"Device\"\n    \n        config = Mock()\n        config.validate = Mock()\n        config._properties = [\"devices\"]\n        config.__class__.__name__ = \"Config\"\n    \n        devices_iter = Mock()\n        devices_iter.__module__ = \"snappi.devices\"\n        devices_iter.__iter__ = Mock(return_value=iter([device]))\n    \n        config.get.side_effect = lambda x: devices_iter if x == \"devices\" else None\n    \n        with patch(\"builtins.hasattr\", side_effect=lambda obj, attr: {\n            (device, \"choice\"): True,\n            (config, \"choice\"): False,\n        }.get((obj, attr), attr in [\"_properties\", \"__module__\", \"__next__\"])):\n            with patch(\"builtins.dir\", return_value=[\"__module__\", \"__next__\"]):\n                with patch(\"builtins.getattr\", side_effect=lambda obj, attr, default=None: {\n                    (device, \"choice\"): None,\n                }.get((obj, attr), default)):\n                    self.api.snappi_config = config\n    \n>                   self.validation.validate_config()\n\ntests/unit/test_validation.py:150: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nsnappi_ixnetwork/validation.py:16: in validate_config\n    self.__check_config_objects(self._api.snappi_config, item_ids=[])\nsnappi_ixnetwork/validation.py:23: in __check_config_objects\n    config_item.validate()\n/usr/lib/python3.10/unittest/mock.py:1113: in __call__\n    self._increment_mock_call(*args, **kwargs)\n/usr/lib/python3.10/unittest/mock.py:1122: in _increment_mock_call\n    self.call_count += 1\n/usr/lib/python3.10/unittest/mock.py:328: in _get\n    return getattr(self, _the_name)\n/usr/lib/python3.10/unittest/mock.py:1113: in __call__\n    self._increment_mock_call(*args, **kwargs)\n/usr/lib/python3.10/unittest/mock.py:1122: in _increment_mock_call\n    self.call_count += 1\n/usr/lib/python3.10/unittest/mock.py:328: in _get\n    return getattr(self, _the_name)\n/usr/lib/python3.10/unittest/mock.py:1113: in __call__\n    self._increment_mock_call(*args, **kwargs)\n/usr/lib/python3.10/unittest/mock.py:1122: in _increment_mock_call\n    self.call_count += 1\n/usr/lib/python3.10/unittest/mock.py:328: in _get\n    return getattr(self, _the_name)\nE   RecursionError: maximum recursion depth exceeded\n!!! Recursion detected (same locals & position)","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"steps":[{"name":"--------------------------------- Captured Log ---------------------------------","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"--------------------------------- Captured Out ---------------------------------","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"resultFormat","value":"junit"},{"name":"suite","value":"pytest"},{"name":"host","value":"snappi-ixn-ci-novus10g"},{"name":"testClass","value":"unit.test_validation.TestValidation"},{"name":"package","value":"unit.test_validation.TestValidation"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"7ff9113340a29f22.json","parameterValues":[]}