{"uid":"d1961578d90bbf40","name":"test_validate_config_non_snappi_module","historyId":"pytest:unit.test_validation.TestValidation#test_validate_config_non_snappi_module","time":{"start":1769077516718,"stop":1769077516722,"duration":4},"status":"failed","statusMessage":"AssertionError: assert 'device1' in {}\n +  where {} = <Mock id='139687110196144'>._config_objects\n +    where <Mock id='139687110196144'> = <unit.test_validation.TestValidation object at 0x7f0b71dd8d00>.api","statusTrace":"self = <unit.test_validation.TestValidation object at 0x7f0b71dd8d00>\n\n    def test_validate_config_non_snappi_module(self):\n        \"\"\"Test validate_config skips non-snappi modules\"\"\"\n        device = Mock()\n        device.validate = Mock()\n        device._properties = [\"name\", \"external_obj\"]\n    \n        external_obj = Mock()\n        external_obj.__module__ = \"external.module\"  # Not snappi\n    \n        device.get.side_effect = lambda x: {\n            \"name\": \"device1\",\n            \"external_obj\": external_obj,\n        }.get(x)\n        device.__class__.__name__ = \"Device\"\n        device.__module__ = \"snappi.device\"\n    \n        config = Mock()\n        config.validate = Mock()\n        config._properties = [\"devices\"]\n        config.__class__.__name__ = \"Config\"\n    \n        devices_iter = Mock()\n        devices_iter.__module__ = \"snappi.devices\"\n        devices_iter.__iter__ = Mock(return_value=iter([device]))\n    \n        config.get.side_effect = lambda x: devices_iter if x == \"devices\" else None\n    \n        with patch(\"builtins.hasattr\", return_value=False):\n            with patch(\"builtins.dir\", return_value=[\"__module__\"]):\n                self.api.snappi_config = config\n    \n                self.validation.validate_config()\n    \n                # Only device name should be added, not external_obj\n>               assert \"device1\" in self.api._config_objects\nE               AssertionError: assert 'device1' in {}\nE                +  where {} = <Mock id='139687110196144'>._config_objects\nE                +    where <Mock id='139687110196144'> = <unit.test_validation.TestValidation object at 0x7f0b71dd8d00>.api\n\ntests/unit/test_validation.py:346: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"steps":[{"name":"--------------------------------- Captured Log ---------------------------------","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"--------------------------------- Captured Out ---------------------------------","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"resultFormat","value":"junit"},{"name":"suite","value":"pytest"},{"name":"host","value":"snappi-ixn-ci-novus10g"},{"name":"testClass","value":"unit.test_validation.TestValidation"},{"name":"package","value":"unit.test_validation.TestValidation"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"d1961578d90bbf40.json","parameterValues":[]}