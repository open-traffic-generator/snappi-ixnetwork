{"uid":"2e02a5f00d5967a4","name":"test_ping_cvg","historyId":"pytest:ping.test_ping_cvg#test_ping_cvg","time":{"start":1743024925670,"stop":1743024943557,"duration":17887},"status":"failed","statusMessage":"snappi_ixnetwork.exceptions.SnappiIxnException:   File \"/home/github-runner/actions-runner/_work/snappi-ixnetwork/snappi-ixnetwork/snappi_ixnetwork/snappi_api.py\", line 450, in set_control_state\n    self.traffic_item.transmit(request_payload)\n  File \"/home/github-runner/actions-runner/_work/snappi-ixnetwork/snappi-ixnetwork/snappi_ixnetwork/trafficitem.py\", line 1341, in transmit\n    if (device.rocev2) and request.state == \"stop\":\n 'Device' object has no attribute 'rocev2'","statusTrace":"self = <snappi_ixnetwork.snappi_api.Api object at 0x7f92a1bf4eb0>\npayload = <snappi.snappi.ControlState object at 0x7f92a07fb740>\n\n    def set_control_state(self, payload):\n        try:\n            control_option = payload.choice\n            control_obj = getattr(payload, control_option)\n            control_choice = control_obj.get(\"choice\")\n            request_payload = getattr(control_obj, control_choice)\n            self._connect()\n            event_names = []\n            event_state = None\n            event_type = control_choice\n            EventInfo = namedtuple(\n                \"EventInfo\", [\"event_type\", \"event_state\", \"event_names\"]\n            )\n            if control_option == \"port\":\n                if control_choice == \"capture\":\n                    self.capture.set_capture_state(request_payload)\n                elif control_choice == \"link\":\n                    self._TRIGGERED_EVENT = \"link\"\n                    if request_payload.port_names is not None:\n                        event_names = request_payload.port_names\n                        event_state = request_payload.state\n                    self.vport.set_link_state(request_payload)\n            elif control_option == \"protocol\":\n                if control_choice == \"all\":\n                    self.ngpf.set_protocol_state(request_payload)\n                elif control_choice == \"route\":\n                    event_state = request_payload.state\n                    with Timer(self, \"Setting route state\"):\n                        event_names = self.ngpf.set_route_state(request_payload)\n                elif control_choice == \"lacp\":\n                    self.ngpf.set_device_state(request_payload)\n            elif control_option == \"traffic\":\n>               self.traffic_item.transmit(request_payload)\n\nsnappi_ixnetwork/snappi_api.py:450: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <snappi_ixnetwork.trafficitem.TrafficItem object at 0x7f92a1b9da80>\nrequest = <snappi.snappi.StateTrafficFlowTransmit object at 0x7f92a08311c0>\n\n    def transmit(self, request):\n        \"\"\"Set flow transmit\n        1) check set_protocol_state for device protocols\n        2) If start then generate and apply traffic\n        3) Execute requested transmit action (start|stop|pause|resume)\n        \"\"\"\n        regex = \"\"\n        flow_names = [flow.name for flow in self._api._config.flows]\n        if request and request.flow_names:\n            flow_names = request.flow_names\n        if len(flow_names) == 1:\n            regex = \"^%s$\" % self._api.special_char(flow_names)[0]\n        elif len(flow_names) > 1:\n            regex = \"^(%s)$\" % \"|\".join(self._api.special_char(flow_names))\n    \n        self.logger.debug(\n            \"These %s flows will go into %s state\"\n            % (flow_names, request.state)\n        )\n        if request.state == \"start\":\n            ##This portion of code is to handle different stateful_traffic flow, currently only rocev2\n            for device in self._api._config.devices:\n                #Check if rocev2 exists in topology\n                if hasattr(device, \"rocev2\") and device.rocev2:\n                    ####### Create and Apply RoCEv2 Flow Groups here, as we have identified that RoCEv2 is present in Topology\n                    self._api._traffic.AddRoCEv2FlowGroups()\n                    rocev2_traffic = self._api._traffic.RoceV2Traffic.find(Enabled=True)\n                    stateful_flow = None\n                    options = None\n                    if hasattr(self._api._config, \"stateful_flows\"):\n                        stateful_flow = self._api._config.stateful_flows\n                    if hasattr(self._api._config, \"options\"):\n                        options = self._api._config.options\n                    self._rocev2._configureTrafficParameters(rocev2_traffic, stateful_flow, options)\n                    with Timer(self._api, \"Flows generate/apply\"):\n                        self._api._traffic.Apply()\n                    print (\"Starting Traffic\")\n                    self._api._traffic.Start()\n                    break\n            if len(self._api._topology.find()) > 0:\n                glob_topo = self._api._globals.Topology.refresh()\n                if glob_topo.Status == \"notStarted\":\n                    raise Exception(\n                        \"Please start protocols using set_protocol_state \"\n                        \"before start traffic\"\n                    )\n            if len(self._api._traffic_item.find()) == 0:\n                return\n            self._api._traffic_item.find(State=\"^unapplied$\")\n            if len(self._api._traffic_item) > 0:\n                with Timer(self._api, \"Flows generate/apply\"):\n                    self._api._traffic_item.Generate()\n                    self._api._traffic.Apply()\n            self._api._traffic_item.find(State=\"^started$\")\n            if len(self._api._traffic_item) == 0:\n                with Timer(self._api, \"Flows clear statistics\"):\n                    self._api._ixnetwork.ClearStats(\n                        [\n                            \"waitForPortStatsRefresh\",\n                            \"waitForTrafficStatsRefresh\",\n                        ]\n                    )\n            self._api.capture._start_capture()\n        self._api._traffic_item.find(Name=regex)\n        for device in self._api._config.devices:\n>           if (device.rocev2) and request.state == \"stop\":\nE           AttributeError: 'Device' object has no attribute 'rocev2'\n\nsnappi_ixnetwork/trafficitem.py:1341: AttributeError\n\nDuring handling of the above exception, another exception occurred:\n\napi = <snappi_ixnetwork.snappi_api.Api object at 0x7f92a1bf4eb0>\nutils = <module 'utils' from '/home/github-runner/actions-runner/_work/snappi-ixnetwork/snappi-ixnetwork/tests/utils/__init__.py'>\n\n    def test_ping_cvg(api, utils):\n        \"\"\"\n        Demonstrates test to send ipv4 and ipv6 pings\n    \n        Return the ping responses and validate as per user's expectation\n        \"\"\"\n        conv_config = api.config()\n        port1, port2 = conv_config.ports.port(\n            name=\"tx\", location=utils.settings.ports[0]\n        ).port(name=\"rx\", location=utils.settings.ports[1])\n    \n        conv_config.options.port_options.location_preemption = True\n        ly = conv_config.layer1.layer1()[-1]\n        ly.name = \"ly\"\n        ly.port_names = [port1.name, port2.name]\n        ly.ieee_media_defaults = False\n        ly.auto_negotiate = False\n        ly.speed = utils.settings.speed\n        ly.media = utils.settings.media\n    \n        d1, d2 = conv_config.devices.device(name=\"tx_bgp\").device(name=\"rx_bgp\")\n        eth1, eth2 = d1.ethernets.add(), d2.ethernets.add()\n        eth1.connection.port_name, eth2.connection.port_name = port1.name, port2.name   # noqa\n        eth1.mac, eth2.mac = \"00:00:00:00:00:11\", \"00:00:00:00:00:22\"\n        ip1, ip2 = eth1.ipv4_addresses.add(), eth2.ipv4_addresses.add()\n        ipv61, ipv62 = eth1.ipv6_addresses.add(), eth2.ipv6_addresses.add()\n        eth1.name, eth2.name = \"eth1\", \"eth2\"\n        ip1.name, ip2.name = \"ip1\", \"ip2\"\n        ipv61.name, ipv62.name = \"ipv6-1\", \"ipv6-2\"\n    \n        ip1.address = \"10.1.1.1\"\n        ip1.gateway = \"10.1.1.2\"\n        ip1.prefix = 24\n    \n        ip2.address = \"10.1.1.2\"\n        ip2.gateway = \"10.1.1.1\"\n        ip2.prefix = 24\n    \n        ipv61.address = \"3000::1\"\n        ipv61.gateway = \"3000::2\"\n        ipv61.prefix = 64\n    \n        ipv62.address = \"3000::2\"\n        ipv62.gateway = \"3000::1\"\n        ipv62.prefix = 64\n    \n        api.set_config(conv_config)\n    \n        print(\"Starting all protocols ...\")\n        ps = api.control_state()\n        ps.choice = ps.PROTOCOL\n        ps.protocol.choice = ps.protocol.ALL\n        ps.protocol.all.state = ps.protocol.all.START\n        res = api.set_control_state(ps)\n        if len(res.warnings) > 0:\n            print(\"Warnings: {}\".format(res.warnings))\n    \n        cs = api.control_state()\n        cs.choice = cs.TRAFFIC\n        cs.traffic.choice = cs.traffic.FLOW_TRANSMIT\n        cs.traffic.flow_transmit.state = cs.traffic.flow_transmit.START\n        res = api.set_control_state(cs)\n        if len(res.warnings) > 0:\n            print(\"Warnings: {}\".format(res.warnings))\n    \n        try:\n            cs = api.control_action()\n            cs.protocol.ipv4.ping.requests.add(src_name=ip1.name, dst_ip=\"10.1.1.2\")\n            cs.protocol.ipv4.ping.requests.add(src_name=ip1.name, dst_ip=\"10.1.1.3\")\n    \n            responses = api.set_control_action(\n                cs\n            ).response.protocol.ipv4.ping.responses\n            for resp in responses:\n                if resp.src_name == ip1.name and resp.dst_ip == \"10.1.1.2\":\n                    assert resp.result == \"succeeded\"\n                elif resp.src_name == ip1.name and resp.dst_ip == \"10.1.1.3\":\n                    assert resp.result == \"failed\"\n                elif resp.src_name == ipv62.name and resp.dst_ip == \"3000::1\":\n                    assert resp.result == \"succeeded\"\n                elif resp.src_name == ipv62.name and resp.dst_ip == \"3000::9\":\n                    assert resp.result == \"failed\"\n            cs = api.control_state()\n            cs.choice = cs.TRAFFIC\n            cs.traffic.choice = cs.traffic.FLOW_TRANSMIT\n            cs.traffic.flow_transmit.state = cs.traffic.flow_transmit.STOP\n>           res = api.set_control_state(cs)\n\ntests/ping/test_ping_cvg.py:90: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <snappi_ixnetwork.snappi_api.Api object at 0x7f92a1bf4eb0>\npayload = <snappi.snappi.ControlState object at 0x7f92a07fb740>\n\n    def set_control_state(self, payload):\n        try:\n            control_option = payload.choice\n            control_obj = getattr(payload, control_option)\n            control_choice = control_obj.get(\"choice\")\n            request_payload = getattr(control_obj, control_choice)\n            self._connect()\n            event_names = []\n            event_state = None\n            event_type = control_choice\n            EventInfo = namedtuple(\n                \"EventInfo\", [\"event_type\", \"event_state\", \"event_names\"]\n            )\n            if control_option == \"port\":\n                if control_choice == \"capture\":\n                    self.capture.set_capture_state(request_payload)\n                elif control_choice == \"link\":\n                    self._TRIGGERED_EVENT = \"link\"\n                    if request_payload.port_names is not None:\n                        event_names = request_payload.port_names\n                        event_state = request_payload.state\n                    self.vport.set_link_state(request_payload)\n            elif control_option == \"protocol\":\n                if control_choice == \"all\":\n                    self.ngpf.set_protocol_state(request_payload)\n                elif control_choice == \"route\":\n                    event_state = request_payload.state\n                    with Timer(self, \"Setting route state\"):\n                        event_names = self.ngpf.set_route_state(request_payload)\n                elif control_choice == \"lacp\":\n                    self.ngpf.set_device_state(request_payload)\n            elif control_option == \"traffic\":\n                self.traffic_item.transmit(request_payload)\n            elif control_option is not None:\n                msg = \"{} is not a supported choice for metrics; \\\n                the supported choices are \\\n                ['port', 'protocol', traffic]\".format(\n                    control_option\n                )\n                raise SnappiIxnException(400, msg)\n            self._event_info = EventInfo(event_type, event_state, event_names)\n        except Exception as err:\n>           raise SnappiIxnException(err)\nE           snappi_ixnetwork.exceptions.SnappiIxnException:   File \"/home/github-runner/actions-runner/_work/snappi-ixnetwork/snappi-ixnetwork/snappi_ixnetwork/snappi_api.py\", line 450, in set_control_state\nE               self.traffic_item.transmit(request_payload)\nE             File \"/home/github-runner/actions-runner/_work/snappi-ixnetwork/snappi-ixnetwork/snappi_ixnetwork/trafficitem.py\", line 1341, in transmit\nE               if (device.rocev2) and request.state == \"stop\":\nE            'Device' object has no attribute 'rocev2'\n\nsnappi_ixnetwork/snappi_api.py:460: SnappiIxnException\n\nDuring handling of the above exception, another exception occurred:\n\nself = <snappi_ixnetwork.snappi_api.Api object at 0x7f92a1bf4eb0>\npayload = <snappi.snappi.ControlState object at 0x7f92a0832fc0>\n\n    def set_control_state(self, payload):\n        try:\n            control_option = payload.choice\n            control_obj = getattr(payload, control_option)\n            control_choice = control_obj.get(\"choice\")\n            request_payload = getattr(control_obj, control_choice)\n            self._connect()\n            event_names = []\n            event_state = None\n            event_type = control_choice\n            EventInfo = namedtuple(\n                \"EventInfo\", [\"event_type\", \"event_state\", \"event_names\"]\n            )\n            if control_option == \"port\":\n                if control_choice == \"capture\":\n                    self.capture.set_capture_state(request_payload)\n                elif control_choice == \"link\":\n                    self._TRIGGERED_EVENT = \"link\"\n                    if request_payload.port_names is not None:\n                        event_names = request_payload.port_names\n                        event_state = request_payload.state\n                    self.vport.set_link_state(request_payload)\n            elif control_option == \"protocol\":\n                if control_choice == \"all\":\n                    self.ngpf.set_protocol_state(request_payload)\n                elif control_choice == \"route\":\n                    event_state = request_payload.state\n                    with Timer(self, \"Setting route state\"):\n                        event_names = self.ngpf.set_route_state(request_payload)\n                elif control_choice == \"lacp\":\n                    self.ngpf.set_device_state(request_payload)\n            elif control_option == \"traffic\":\n>               self.traffic_item.transmit(request_payload)\n\nsnappi_ixnetwork/snappi_api.py:450: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <snappi_ixnetwork.trafficitem.TrafficItem object at 0x7f92a1b9da80>\nrequest = <snappi.snappi.StateTrafficFlowTransmit object at 0x7f92a04e90d0>\n\n    def transmit(self, request):\n        \"\"\"Set flow transmit\n        1) check set_protocol_state for device protocols\n        2) If start then generate and apply traffic\n        3) Execute requested transmit action (start|stop|pause|resume)\n        \"\"\"\n        regex = \"\"\n        flow_names = [flow.name for flow in self._api._config.flows]\n        if request and request.flow_names:\n            flow_names = request.flow_names\n        if len(flow_names) == 1:\n            regex = \"^%s$\" % self._api.special_char(flow_names)[0]\n        elif len(flow_names) > 1:\n            regex = \"^(%s)$\" % \"|\".join(self._api.special_char(flow_names))\n    \n        self.logger.debug(\n            \"These %s flows will go into %s state\"\n            % (flow_names, request.state)\n        )\n        if request.state == \"start\":\n            ##This portion of code is to handle different stateful_traffic flow, currently only rocev2\n            for device in self._api._config.devices:\n                #Check if rocev2 exists in topology\n                if hasattr(device, \"rocev2\") and device.rocev2:\n                    ####### Create and Apply RoCEv2 Flow Groups here, as we have identified that RoCEv2 is present in Topology\n                    self._api._traffic.AddRoCEv2FlowGroups()\n                    rocev2_traffic = self._api._traffic.RoceV2Traffic.find(Enabled=True)\n                    stateful_flow = None\n                    options = None\n                    if hasattr(self._api._config, \"stateful_flows\"):\n                        stateful_flow = self._api._config.stateful_flows\n                    if hasattr(self._api._config, \"options\"):\n                        options = self._api._config.options\n                    self._rocev2._configureTrafficParameters(rocev2_traffic, stateful_flow, options)\n                    with Timer(self._api, \"Flows generate/apply\"):\n                        self._api._traffic.Apply()\n                    print (\"Starting Traffic\")\n                    self._api._traffic.Start()\n                    break\n            if len(self._api._topology.find()) > 0:\n                glob_topo = self._api._globals.Topology.refresh()\n                if glob_topo.Status == \"notStarted\":\n                    raise Exception(\n                        \"Please start protocols using set_protocol_state \"\n                        \"before start traffic\"\n                    )\n            if len(self._api._traffic_item.find()) == 0:\n                return\n            self._api._traffic_item.find(State=\"^unapplied$\")\n            if len(self._api._traffic_item) > 0:\n                with Timer(self._api, \"Flows generate/apply\"):\n                    self._api._traffic_item.Generate()\n                    self._api._traffic.Apply()\n            self._api._traffic_item.find(State=\"^started$\")\n            if len(self._api._traffic_item) == 0:\n                with Timer(self._api, \"Flows clear statistics\"):\n                    self._api._ixnetwork.ClearStats(\n                        [\n                            \"waitForPortStatsRefresh\",\n                            \"waitForTrafficStatsRefresh\",\n                        ]\n                    )\n            self._api.capture._start_capture()\n        self._api._traffic_item.find(Name=regex)\n        for device in self._api._config.devices:\n>           if (device.rocev2) and request.state == \"stop\":\nE           AttributeError: 'Device' object has no attribute 'rocev2'\n\nsnappi_ixnetwork/trafficitem.py:1341: AttributeError\n\nDuring handling of the above exception, another exception occurred:\n\napi = <snappi_ixnetwork.snappi_api.Api object at 0x7f92a1bf4eb0>\nutils = <module 'utils' from '/home/github-runner/actions-runner/_work/snappi-ixnetwork/snappi-ixnetwork/tests/utils/__init__.py'>\n\n    def test_ping_cvg(api, utils):\n        \"\"\"\n        Demonstrates test to send ipv4 and ipv6 pings\n    \n        Return the ping responses and validate as per user's expectation\n        \"\"\"\n        conv_config = api.config()\n        port1, port2 = conv_config.ports.port(\n            name=\"tx\", location=utils.settings.ports[0]\n        ).port(name=\"rx\", location=utils.settings.ports[1])\n    \n        conv_config.options.port_options.location_preemption = True\n        ly = conv_config.layer1.layer1()[-1]\n        ly.name = \"ly\"\n        ly.port_names = [port1.name, port2.name]\n        ly.ieee_media_defaults = False\n        ly.auto_negotiate = False\n        ly.speed = utils.settings.speed\n        ly.media = utils.settings.media\n    \n        d1, d2 = conv_config.devices.device(name=\"tx_bgp\").device(name=\"rx_bgp\")\n        eth1, eth2 = d1.ethernets.add(), d2.ethernets.add()\n        eth1.connection.port_name, eth2.connection.port_name = port1.name, port2.name   # noqa\n        eth1.mac, eth2.mac = \"00:00:00:00:00:11\", \"00:00:00:00:00:22\"\n        ip1, ip2 = eth1.ipv4_addresses.add(), eth2.ipv4_addresses.add()\n        ipv61, ipv62 = eth1.ipv6_addresses.add(), eth2.ipv6_addresses.add()\n        eth1.name, eth2.name = \"eth1\", \"eth2\"\n        ip1.name, ip2.name = \"ip1\", \"ip2\"\n        ipv61.name, ipv62.name = \"ipv6-1\", \"ipv6-2\"\n    \n        ip1.address = \"10.1.1.1\"\n        ip1.gateway = \"10.1.1.2\"\n        ip1.prefix = 24\n    \n        ip2.address = \"10.1.1.2\"\n        ip2.gateway = \"10.1.1.1\"\n        ip2.prefix = 24\n    \n        ipv61.address = \"3000::1\"\n        ipv61.gateway = \"3000::2\"\n        ipv61.prefix = 64\n    \n        ipv62.address = \"3000::2\"\n        ipv62.gateway = \"3000::1\"\n        ipv62.prefix = 64\n    \n        api.set_config(conv_config)\n    \n        print(\"Starting all protocols ...\")\n        ps = api.control_state()\n        ps.choice = ps.PROTOCOL\n        ps.protocol.choice = ps.protocol.ALL\n        ps.protocol.all.state = ps.protocol.all.START\n        res = api.set_control_state(ps)\n        if len(res.warnings) > 0:\n            print(\"Warnings: {}\".format(res.warnings))\n    \n        cs = api.control_state()\n        cs.choice = cs.TRAFFIC\n        cs.traffic.choice = cs.traffic.FLOW_TRANSMIT\n        cs.traffic.flow_transmit.state = cs.traffic.flow_transmit.START\n        res = api.set_control_state(cs)\n        if len(res.warnings) > 0:\n            print(\"Warnings: {}\".format(res.warnings))\n    \n        try:\n            cs = api.control_action()\n            cs.protocol.ipv4.ping.requests.add(src_name=ip1.name, dst_ip=\"10.1.1.2\")\n            cs.protocol.ipv4.ping.requests.add(src_name=ip1.name, dst_ip=\"10.1.1.3\")\n    \n            responses = api.set_control_action(\n                cs\n            ).response.protocol.ipv4.ping.responses\n            for resp in responses:\n                if resp.src_name == ip1.name and resp.dst_ip == \"10.1.1.2\":\n                    assert resp.result == \"succeeded\"\n                elif resp.src_name == ip1.name and resp.dst_ip == \"10.1.1.3\":\n                    assert resp.result == \"failed\"\n                elif resp.src_name == ipv62.name and resp.dst_ip == \"3000::1\":\n                    assert resp.result == \"succeeded\"\n                elif resp.src_name == ipv62.name and resp.dst_ip == \"3000::9\":\n                    assert resp.result == \"failed\"\n            cs = api.control_state()\n            cs.choice = cs.TRAFFIC\n            cs.traffic.choice = cs.traffic.FLOW_TRANSMIT\n            cs.traffic.flow_transmit.state = cs.traffic.flow_transmit.STOP\n            res = api.set_control_state(cs)\n            if len(res.warnings) > 0:\n                print(\"Warnings: {}\".format(res.warnings))\n        except Exception as e:\n            cs = api.control_state()\n            cs.choice = cs.TRAFFIC\n            cs.traffic.choice = cs.traffic.FLOW_TRANSMIT\n            cs.traffic.flow_transmit.state = cs.traffic.flow_transmit.STOP\n>           res = api.set_control_state(cs)\n\ntests/ping/test_ping_cvg.py:98: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <snappi_ixnetwork.snappi_api.Api object at 0x7f92a1bf4eb0>\npayload = <snappi.snappi.ControlState object at 0x7f92a0832fc0>\n\n    def set_control_state(self, payload):\n        try:\n            control_option = payload.choice\n            control_obj = getattr(payload, control_option)\n            control_choice = control_obj.get(\"choice\")\n            request_payload = getattr(control_obj, control_choice)\n            self._connect()\n            event_names = []\n            event_state = None\n            event_type = control_choice\n            EventInfo = namedtuple(\n                \"EventInfo\", [\"event_type\", \"event_state\", \"event_names\"]\n            )\n            if control_option == \"port\":\n                if control_choice == \"capture\":\n                    self.capture.set_capture_state(request_payload)\n                elif control_choice == \"link\":\n                    self._TRIGGERED_EVENT = \"link\"\n                    if request_payload.port_names is not None:\n                        event_names = request_payload.port_names\n                        event_state = request_payload.state\n                    self.vport.set_link_state(request_payload)\n            elif control_option == \"protocol\":\n                if control_choice == \"all\":\n                    self.ngpf.set_protocol_state(request_payload)\n                elif control_choice == \"route\":\n                    event_state = request_payload.state\n                    with Timer(self, \"Setting route state\"):\n                        event_names = self.ngpf.set_route_state(request_payload)\n                elif control_choice == \"lacp\":\n                    self.ngpf.set_device_state(request_payload)\n            elif control_option == \"traffic\":\n                self.traffic_item.transmit(request_payload)\n            elif control_option is not None:\n                msg = \"{} is not a supported choice for metrics; \\\n                the supported choices are \\\n                ['port', 'protocol', traffic]\".format(\n                    control_option\n                )\n                raise SnappiIxnException(400, msg)\n            self._event_info = EventInfo(event_type, event_state, event_names)\n        except Exception as err:\n>           raise SnappiIxnException(err)\nE           snappi_ixnetwork.exceptions.SnappiIxnException:   File \"/home/github-runner/actions-runner/_work/snappi-ixnetwork/snappi-ixnetwork/snappi_ixnetwork/snappi_api.py\", line 450, in set_control_state\nE               self.traffic_item.transmit(request_payload)\nE             File \"/home/github-runner/actions-runner/_work/snappi-ixnetwork/snappi-ixnetwork/snappi_ixnetwork/trafficitem.py\", line 1341, in transmit\nE               if (device.rocev2) and request.state == \"stop\":\nE            'Device' object has no attribute 'rocev2'\n\nsnappi_ixnetwork/snappi_api.py:460: SnappiIxnException","flaky":true,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"steps":[{"name":"--------------------------------- Captured Log ---------------------------------","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"INFO     snappi_ixnetwork.snappi_api:snappi_api.py:1437 Config validation 0.003s","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"INFO     snappi_ixnetwork.snappi_api:snappi_api.py:1437 Ports configuration 0.298s","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"INFO     snappi_ixnetwork.snappi_api:snappi_api.py:1437 Captures configuration 0.282s","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"INFO     snappi_ixnetwork.snappi_api:snappi_api.py:1437 Location hosts ready [novus1-715849.ccu.is.keysight.com] 0.099s","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"INFO     snappi_ixnetwork.snappi_api:snappi_api.py:1437 Speed conversion is not require for (port.name, speed) : [('tx', 'normal'), ('rx', 'normal')]","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"INFO     snappi_ixnetwork.snappi_api:snappi_api.py:1437 Aggregation mode speed change 0.125s","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"INFO     snappi_ixnetwork.snappi_api:snappi_api.py:1437 Location configuration 0.864s","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"WARNING  root:snappi_api.py:1443  kError invalidCommit The only speed allowed in copper mode while AutoNegotiation is turned off is 100M","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"INFO     snappi_ixnetwork.snappi_api:snappi_api.py:1437 Layer1 configuration 0.306s","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"INFO     snappi_ixnetwork.snappi_api:snappi_api.py:1437 Lag Configuration 0.084s","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"INFO     snappi_ixnetwork.snappi_api:snappi_api.py:1437 Convert device config : 0.550s","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"INFO     snappi_ixnetwork.snappi_api:snappi_api.py:1437 Create IxNetwork device config : 0.001s","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"INFO     snappi_ixnetwork.snappi_api:snappi_api.py:1437 Push IxNetwork device config : 0.304s","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"INFO     snappi_ixnetwork.snappi_api:snappi_api.py:1437 Devices configuration 0.942s","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"INFO     snappi_ixnetwork.snappi_api:snappi_api.py:1437 Flows configuration 0.629s","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"INFO     snappi_ixnetwork.snappi_api:snappi_api.py:1437 Start interfaces 2.577s","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"INFO     snappi_ixnetwork.snappi_api:snappi_api.py:1437 IxNet - The Traffic Item was modified. Please perform a Traffic Generate to update the associated traffic Flow Groups","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"INFO     snappi_ixnetwork.snappi_api:snappi_api.py:1437 Sending ping to 10.1.1.2","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"INFO     snappi_ixnetwork.snappi_api:snappi_api.py:1437 Sending ping to 10.1.1.3","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"INFO     snappi_ixnetwork.snappi_api:snappi_api.py:1437 Ping requests completed in 4.030s","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"--------------------------------- Captured Out ---------------------------------","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":22,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"resultFormat","value":"junit"},{"name":"suite","value":"pytest"},{"name":"host","value":"snappi-ixn-ci-novus10g"},{"name":"testClass","value":"ping.test_ping_cvg"},{"name":"package","value":"ping.test_ping_cvg"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":3,"broken":0,"skipped":3,"passed":59,"unknown":0,"total":65},"items":[{"uid":"19ec0d875ea7f974","status":"failed","statusDetails":"snappi_ixnetwork.exceptions.SnappiIxnException:   File \"/home/github-runner/actions-runner/_work/snappi-ixnetwork/snappi-ixnetwork/snappi_ixnetwork/snappi_api.py\", line 450, in set_control_state\n    self.traffic_item.transmit(request_payload)\n  File \"/home/github-runner/actions-runner/_work/snappi-ixnetwork/snappi-ixnetwork/snappi_ixnetwork/trafficitem.py\", line 1341, in transmit\n    if (device.rocev2) and request.state == \"stop\":\n 'Device' object has no attribute 'rocev2'","time":{"start":1743020239133,"stop":1743020258847,"duration":19714}},{"uid":"360397c4b8e7f446","status":"passed","time":{"start":1743003871353,"stop":1743003886993,"duration":15640}},{"uid":"6539854dc7df3ce0","status":"passed","time":{"start":1742996899832,"stop":1742996915315,"duration":15483}},{"uid":"6fac7bb024d1f0c2","status":"failed","statusDetails":"snappi_ixnetwork.exceptions.SnappiIxnException:   File \"/home/github-runner/actions-runner/_work/snappi-ixnetwork/snappi-ixnetwork/snappi_ixnetwork/snappi_api.py\", line 276, in set_config\n    self.config_ixnetwork(config)\n  File \"/home/github-runner/actions-runner/_work/snappi-ixnetwork/snappi-ixnetwork/snappi_ixnetwork/snappi_api.py\", line 363, in config_ixnetwork\n    self.ngpf.config()\n  File \"/home/github-runner/actions-runner/_work/snappi-ixnetwork/snappi-ixnetwork/snappi_ixnetwork/device/ngpf.py\", line 69, in config\n    self._configure_topology()\n  File \"/home/github-runner/actions-runner/_work/snappi-ixnetwork/snappi-ixnetwork/snappi_ixnetwork/device/ngpf.py\", line 125, in _configure_topology\n    self._rocev2.config(device, self.api.snappi_config.stateful_flows, self.api.snappi_config.options)\n 'Config' object has no attribute 'stateful_flows'","time":{"start":1742993864845,"stop":1742993868495,"duration":3650}},{"uid":"8034edc59ed9bfbf","status":"passed","time":{"start":1742381702821,"stop":1742381718412,"duration":15591}},{"uid":"85a49184b77c669b","status":"passed","time":{"start":1742374910714,"stop":1742374926310,"duration":15596}},{"uid":"8d2fbdb75e647e70","status":"passed","time":{"start":1742299164935,"stop":1742299181444,"duration":16509}},{"uid":"79916a73b5ee6ea8","status":"passed","time":{"start":1741799882568,"stop":1741799898358,"duration":15790}},{"uid":"bfe7aaf3efb40a6a","status":"passed","time":{"start":1741788649556,"stop":1741788665489,"duration":15933}},{"uid":"d1764491582cdc5","status":"passed","time":{"start":1741764418062,"stop":1741764435710,"duration":17648}},{"uid":"42166fde266cb887","status":"passed","time":{"start":1741757585447,"stop":1741757602934,"duration":17487}},{"uid":"bd65c29ca0708ddc","status":"passed","time":{"start":1741690639312,"stop":1741690656549,"duration":17237}},{"uid":"302869031b4bf14e","status":"passed","time":{"start":1741682454375,"stop":1741682470097,"duration":15722}},{"uid":"c577fa32f04990a9","status":"passed","time":{"start":1741584950599,"stop":1741584971570,"duration":20971}},{"uid":"92d2f747097dee33","status":"passed","time":{"start":1741547140558,"stop":1741547161769,"duration":21211}},{"uid":"9d46f6d3e1976721","status":"passed","time":{"start":1741459053851,"stop":1741459074805,"duration":20954}},{"uid":"5cee7c29cc7f1239","status":"passed","time":{"start":1741451329877,"stop":1741451352884,"duration":23007}},{"uid":"7aebd94f908ba9dc","status":"passed","time":{"start":1741375664779,"stop":1741375687675,"duration":22896}},{"uid":"5f35557578fa39a5","status":"passed","time":{"start":1741368681952,"stop":1741368707568,"duration":25616}},{"uid":"ef5a9d9d87be0d91","status":"passed","time":{"start":1741353394880,"stop":1741353420786,"duration":25906}}]},"tags":[]},"source":"2e02a5f00d5967a4.json","parameterValues":[]}