{"uid":"5c44ef73121a5e34","name":"test_bgpv6_routes","historyId":"pytest:traffic.test_device_bgp_ep#test_bgpv6_routes","time":{"start":1765433708748,"stop":1765433800051,"duration":91303},"status":"failed","statusMessage":"assert 4 == 2\n +  where 4 = len(<snappi.snappi.Bgpv6MetricIter object at 0x7f14d3b5df40>)\n +    where <snappi.snappi.Bgpv6MetricIter object at 0x7f14d3b5df40> = <snappi.snappi.MetricsResponse object at 0x7f14d08bd490>.bgpv6_metrics","statusTrace":"api = <snappi_ixnetwork.snappi_api.Api object at 0x7f14d11eaa40>\nb2b_raw_config = <snappi.snappi.Config object at 0x7f14d08bf380>\nutils = <module 'utils' from '/home/github-runner/actions-runner/_work/snappi-ixnetwork/snappi-ixnetwork/tests/utils/__init__.py'>\n\n    def test_bgpv6_routes(api, b2b_raw_config, utils):\n        \"\"\"\n        Test for the bgpv6 routes\n        \"\"\"\n        size = 1500\n        packets = 1000\n        api.set_config(api.config())\n        b2b_raw_config.flows.clear()\n    \n        p1, p2 = b2b_raw_config.ports\n        d1, d2 = b2b_raw_config.devices.device(name=\"tx_bgp\").device(name=\"rx_bgp\")\n        eth1, eth2 = d1.ethernets.add(), d2.ethernets.add()\n        eth1.connection.port_name, eth2.connection.port_name = p1.name, p2.name\n        eth1.mac, eth2.mac = \"00:00:00:00:00:11\", \"00:00:00:00:00:22\"\n        ip1, ip2 = eth1.ipv6_addresses.add(), eth2.ipv6_addresses.add()\n        bgp1, bgp2 = d1.bgp, d2.bgp\n    \n        eth1.name, eth2.name = \"eth1\", \"eth2\"\n        ip1.name, ip2.name = \"ip1\", \"ip2\"\n    \n        ip1.address = \"2000::1\"\n        ip1.gateway = \"3000::1\"\n        ip1.prefix = 64\n    \n        ip2.address = \"3000::1\"\n        ip2.gateway = \"2000::1\"\n        ip2.prefix = 64\n    \n        bgp1.router_id, bgp2.router_id = \"192.0.0.1\", \"192.0.0.2\"\n        bgp1_int, bgp2_int = bgp1.ipv6_interfaces.add(), bgp2.ipv6_interfaces.add()\n        bgp1_int.ipv6_name, bgp2_int.ipv6_name = ip1.name, ip2.name\n        bgp1_peer, bgp2_peer = bgp1_int.peers.add(), bgp2_int.peers.add()\n        bgp1_peer.name, bgp2_peer.name = \"bgp1\", \"bpg2\"\n    \n        bgp1_peer.peer_address = \"3000::1\"\n        bgp1_peer.as_type = \"ibgp\"\n        bgp1_peer.as_number = 10\n    \n        bgp2_peer.peer_address = \"2000::1\"\n        bgp2_peer.as_type = \"ibgp\"\n        bgp2_peer.as_number = 10\n    \n        bgp1_rr1 = bgp1_peer.v6_routes.add(name=\"bgp1_rr1\")\n        bgp1_rr2 = bgp1_peer.v6_routes.add(name=\"bgp1_rr2\")\n        bgp2_rr1 = bgp2_peer.v6_routes.add(name=\"bgp2_rr1\")\n        bgp2_rr2 = bgp2_peer.v6_routes.add(name=\"bgp2_rr2\")\n    \n        bgp1_rr1.addresses.add(address=\"4000::1\", prefix=64)\n        bgp1_rr2.addresses.add(address=\"5000::1\", prefix=64)\n    \n        bgp2_rr1.addresses.add(address=\"4000::1\", prefix=64)\n        bgp2_rr2.addresses.add(address=\"5000::1\", prefix=64)\n    \n        flow_bgp = b2b_raw_config.flows.flow(name=\"flow_bgp\")[-1]\n    \n        flow_bgp.rate.percentage = 1\n        flow_bgp.duration.fixed_packets.packets = packets\n        flow_bgp.size.fixed = size\n        flow_bgp.tx_rx.device.tx_names = [\n            bgp1_rr1.name,\n            bgp1_rr2.name,\n        ]\n        flow_bgp.tx_rx.device.rx_names = [\n            bgp2_rr1.name,\n            bgp2_rr2.name,\n        ]\n        flow_bgp.metrics.enable = True\n        flow_bgp.metrics.loss = True\n        utils.start_traffic(api, b2b_raw_config, start_capture=False)\n    \n        req = api.metrics_request()\n        req.bgpv6.peer_names = []\n        results = api.get_metrics(req)\n        enums = [\n            \"session_state\",\n            \"routes_advertised\",\n            \"route_withdraws_sent\",\n        ]\n        expected_results = {\n            \"tx_bgp\": [\"up\", 0, 0],\n            \"rx_bgp\": [\"up\", 0, 0],\n        }\n    \n>       assert len(results.bgpv6_metrics) == 2\nE       assert 4 == 2\nE        +  where 4 = len(<snappi.snappi.Bgpv6MetricIter object at 0x7f14d3b5df40>)\nE        +    where <snappi.snappi.Bgpv6MetricIter object at 0x7f14d3b5df40> = <snappi.snappi.MetricsResponse object at 0x7f14d08bd490>.bgpv6_metrics\n\ntests/traffic/test_device_bgp_ep.py:88: AssertionError","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"steps":[{"name":"--------------------------------- Captured Log ---------------------------------","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"WARNING  root:snappi_api.py:1518 tx connectedLinkDown","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"WARNING  root:snappi_api.py:1518 rx connectedLinkDown","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"--------------------------------- Captured Out ---------------------------------","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":4,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"resultFormat","value":"junit"},{"name":"suite","value":"pytest"},{"name":"host","value":"snappi-ixn-ci-novus10g"},{"name":"testClass","value":"traffic.test_device_bgp_ep"},{"name":"package","value":"traffic.test_device_bgp_ep"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":29,"broken":0,"skipped":1,"passed":248,"unknown":0,"total":278},"items":[{"uid":"6131ad4e86b7ea6e","status":"passed","time":{"start":1765424930744,"stop":1765425027978,"duration":97234}},{"uid":"46dba280a9ff7e7b","status":"passed","time":{"start":1765398148379,"stop":1765398260680,"duration":112301}},{"uid":"3642ef8d8948c907","status":"passed","time":{"start":1765388942440,"stop":1765389040078,"duration":97638}},{"uid":"42c1ce4ea468fc4","status":"passed","time":{"start":1765380294965,"stop":1765380401040,"duration":106075}},{"uid":"a8cf82bbc1c87db4","status":"passed","time":{"start":1765371542819,"stop":1765371651873,"duration":109054}},{"uid":"c5bc0237aa27cfed","status":"passed","time":{"start":1765362766459,"stop":1765362867842,"duration":101383}},{"uid":"2e596c7cef15b6b5","status":"passed","time":{"start":1764795769034,"stop":1764795874771,"duration":105737}},{"uid":"2d1e6f28cb52f04e","status":"passed","time":{"start":1764786897413,"stop":1764787004463,"duration":107050}},{"uid":"9cf03eb4d8ac9a21","status":"passed","time":{"start":1764697223756,"stop":1764697332610,"duration":108854}},{"uid":"7a489e5efc2b7ed6","status":"passed","time":{"start":1764688681148,"stop":1764688783697,"duration":102549}},{"uid":"1865422e86e55907","status":"passed","time":{"start":1764679168772,"stop":1764679274783,"duration":106011}},{"uid":"19e0807e06f19d62","status":"passed","time":{"start":1764670230219,"stop":1764670336312,"duration":106093}},{"uid":"a41b70779a1daf93","status":"passed","time":{"start":1764652307998,"stop":1764652421275,"duration":113277}},{"uid":"8442989708699002","status":"passed","time":{"start":1764619810153,"stop":1764619904805,"duration":94652}},{"uid":"7739fb05f5366dd","status":"passed","time":{"start":1764603373458,"stop":1764603476705,"duration":103247}},{"uid":"f5c1553c157b2d60","status":"passed","time":{"start":1764595598403,"stop":1764595699311,"duration":100908}},{"uid":"572d39ae7276d86f","status":"passed","time":{"start":1764587889065,"stop":1764587993772,"duration":104707}},{"uid":"76e88ab70d831854","status":"passed","time":{"start":1764231998352,"stop":1764232119623,"duration":121271}},{"uid":"b9956666957c7aa9","status":"passed","time":{"start":1764006817212,"stop":1764006921844,"duration":104632}},{"uid":"7fcf958b7f613d20","status":"passed","time":{"start":1762437316398,"stop":1762437432275,"duration":115877}}]},"tags":[]},"source":"5c44ef73121a5e34.json","parameterValues":[]}