{"uid":"dda4690c2a60d5b6","name":"test_bidir_tagged_flows","historyId":"pytest:vlan.test_vlan#test_bidir_tagged_flows","time":{"start":1769672517079,"stop":1769672528485,"duration":11406},"status":"failed","statusMessage":"snappi_ixnetwork.exceptions.SnappiIxnException:   File \"/home/github-runner/actions-runner/_work/snappi-ixnetwork/snappi-ixnetwork/snappi_ixnetwork/snappi_api.py\", line 287, in set_config\n    self.config_ixnetwork(config)\n  File \"/home/github-runner/actions-runner/_work/snappi-ixnetwork/snappi-ixnetwork/snappi_ixnetwork/snappi_api.py\", line 379, in config_ixnetwork\n    self.traffic_item.config()\n  File \"/home/github-runner/actions-runner/_work/snappi-ixnetwork/snappi-ixnetwork/snappi_ixnetwork/trafficitem.py\", line 1004, in config\n    ixn_traffic_item = self.get_ixn_config(self._config)[0]\n  File \"/home/github-runner/actions-runner/_work/snappi-ixnetwork/snappi-ixnetwork/snappi_ixnetwork/trafficitem.py\", line 603, in get_ixn_config\n    self._importconfig(imports)\n  File \"/home/github-runner/actions-runner/_work/snappi-ixnetwork/snappi-ixnetwork/snappi_ixnetwork/trafficitem.py\", line 525, in _importconfig\n    raise SnappiIxnException(\n [{'xpath': '/traffic/trafficItem[1]/endpointSet[1]', 'message': 'Unable to create endpoint sets. Verify the endpoints are valid.', 'severity': 'kError', 'category': 'invalidCommit', 'property': 'noAtt'}, {'xpath': '/traffic/trafficItem[2]/endpointSet[1]', 'message': 'Unable to create endpoint sets. Verify the endpoints are valid.', 'severity': 'kError', 'category': 'invalidCommit', 'property': 'noAtt'}]","statusTrace":"self = <snappi_ixnetwork.snappi_api.Api object at 0x7f23602db520>\nconfig = <snappi.snappi.Config object at 0x7f235e9c9530>\n\n    def set_config(self, config):\n        \"\"\"Set, update, append or delete the configuration\"\"\"\n        try:\n            if isinstance(config, (type(self._config_type), str)) is False:\n                raise TypeError(\n                    \"The content must be of type Union[Config, str]\"\n                )\n    \n            if isinstance(config, str) is True:\n                config = self._config_type.deserialize(config)\n>           self.config_ixnetwork(config)\n\nsnappi_ixnetwork/snappi_api.py:287: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nsnappi_ixnetwork/snappi_api.py:379: in config_ixnetwork\n    self.traffic_item.config()\nsnappi_ixnetwork/trafficitem.py:1004: in config\n    ixn_traffic_item = self.get_ixn_config(self._config)[0]\nsnappi_ixnetwork/trafficitem.py:603: in get_ixn_config\n    self._importconfig(imports)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <snappi_ixnetwork.trafficitem.TrafficItem object at 0x7f23605452a0>\nimports = {'traffic': {'trafficItem': [{'endpointSet': [{'scalableDestinations': [...], 'scalableSources': [...], 'xpath': '/tra...ntSet[1]'}], 'name': 'f2', 'srcDestMesh': 'oneToOne', 'trafficType': 'ipv4', ...}], 'xpath': '/traffic'}, 'xpath': '/'}\n\n    def _importconfig(self, imports):\n        imports[\"xpath\"] = \"/\"\n        href = \"%sresourceManager\" % self._api._ixnetwork.href\n        url = \"%s/operations/importconfig\" % href\n        json_dump = json.dumps(imports)\n        self.logger.debug(\"import traffic config\")\n        self.logger.debug(\"{}\".format(json_dump))\n        payload = {\n            \"arg1\": href,\n            \"arg2\": json_dump,\n            \"arg3\": False,\n            \"arg4\": \"suppressNothing\",\n            \"arg5\": True,\n        }\n        try:\n            # TODO for larger config rest api is throwing error,\n            # with no url found, when the first response is 202 (in-progress)\n            # its keep checking the status of the url with 1 sec sleep, and\n            # after a while error is thrown. but could see the configuration\n            # applied at Ixnetwork. (Need to check with Eng team)\n            response = self._api._request(\"POST\", url=url, payload=payload)\n        except Exception:\n            return\n        self.logger.debug(str(response))\n        if (\n            response[\"result\"].get(\"errata\") is not None\n            and response[\"result\"][\"errata\"] != []\n        ):\n            self._api.get_json_import_errors()\n>           raise SnappiIxnException(\n                400, \"{}\".format(response[\"result\"][\"errata\"])\n            )\nE           snappi_ixnetwork.exceptions.SnappiIxnException:  [{'xpath': '/traffic/trafficItem[1]/endpointSet[1]', 'message': 'Unable to create endpoint sets. Verify the endpoints are valid.', 'severity': 'kError', 'category': 'invalidCommit', 'property': 'noAtt'}, {'xpath': '/traffic/trafficItem[2]/endpointSet[1]', 'message': 'Unable to create endpoint sets. Verify the endpoints are valid.', 'severity': 'kError', 'category': 'invalidCommit', 'property': 'noAtt'}]\n\nsnappi_ixnetwork/trafficitem.py:525: SnappiIxnException\n\nDuring handling of the above exception, another exception occurred:\n\napi = <snappi_ixnetwork.snappi_api.Api object at 0x7f23602db520>\nutils = <module 'utils' from '/home/github-runner/actions-runner/_work/snappi-ixnetwork/snappi-ixnetwork/tests/utils/__init__.py'>\n\n    def test_bidir_tagged_flows(api, utils):\n        \"\"\"Test bidirectional VLAN tagged flows\n    \n        1) Create 2 devices, each device has an interface and tag the traffic with VLAN 100\n        2) Create 2 flows, each flow sends traffic from one device to the other\n        3) Start the traffic\n        \"\"\"\n        config = api.config()\n        p1, p2 = config.ports.port(name=\"tx\", location=utils.settings.ports[0]).port(\n            name=\"rx\", location=utils.settings.ports[1]\n        )\n    \n        config.layer1.layer1(\n            name=\"layer1\",\n            port_names=[p.name for p in config.ports],\n            speed=utils.settings.speed,\n            media=utils.settings.media,\n        )\n    \n        d1, d2 = config.devices.device(name=\"device1\").device(name=\"device2\")\n        eth1, eth2 = d1.ethernets.add(), d2.ethernets.add()\n        eth1.connection.port_name, eth2.connection.port_name = p1.name, p2.name\n        eth1.name, eth2.name = \"eth1\", \"eth2\"\n        eth1.mac, eth2.mac = \"00:00:00:00:00:11\", \"00:00:00:00:00:22\"\n    \n        eth1.vlans.vlan(priority=1, name=\"d1_vlan100\", id=100)\n        eth2.vlans.vlan(priority=1, name=\"d2_vlan100\", id=100)\n    \n        packets = 2000\n        f1_size = 74\n        f2_size = 1500\n        ip1, ip2 = eth1.ipv4_addresses.add(), eth2.ipv4_addresses.add()\n        ip1.name, ip2.name = \"ip1\", \"ip2\"\n        ip1.address = \"10.1.1.1\"\n        ip1.gateway = \"10.1.1.2\"\n        ip2.address = \"10.1.1.2\"\n        ip2.gateway = \"10.1.1.1\"\n        f1, f2 = config.flows.flow(name=\"f1\").flow(name=\"f2\")\n        f1.tx_rx.device.tx_names, f1.tx_rx.device.rx_names = [d1.name], [d2.name]\n        f2.tx_rx.device.tx_names, f2.tx_rx.device.rx_names = [d2.name], [d1.name]\n        f1.tx_rx.device.mode, f2.tx_rx.device.mode = \"one_to_one\", \"one_to_one\"\n        f1.duration.fixed_packets.packets = packets\n        f2.duration.fixed_packets.packets = packets\n        f1.size.fixed = f1_size\n        f2.size.fixed = f2_size\n        f1.rate.percentage = 10\n        f2.rate.percentage = 10\n    \n        f1.metrics.enable = True\n        f1.metrics.loss = True\n    \n        f2.metrics.enable = True\n        f2.metrics.loss = True\n    \n>       utils.start_traffic(api, config, start_capture=False)\n\ntests/vlan/test_vlan.py:55: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \ntests/utils/common.py:126: in start_traffic\n    api.set_config(cfg)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <snappi_ixnetwork.snappi_api.Api object at 0x7f23602db520>\nconfig = <snappi.snappi.Config object at 0x7f235e9c9530>\n\n    def set_config(self, config):\n        \"\"\"Set, update, append or delete the configuration\"\"\"\n        try:\n            if isinstance(config, (type(self._config_type), str)) is False:\n                raise TypeError(\n                    \"The content must be of type Union[Config, str]\"\n                )\n    \n            if isinstance(config, str) is True:\n                config = self._config_type.deserialize(config)\n            self.config_ixnetwork(config)\n            # CP-DP Convergence config\n            ixn_cpdpconvergence = self._traffic.Statistics.CpdpConvergence\n            ixn_cpdpconvergence.Enabled = False\n            cfg = config.get(\"events\")\n            if cfg is not None:\n                cp_events = cfg.get(\"cp_events\")\n                if cp_events is not None:\n                    cp_events_enable = cp_events.get(\"enable\")\n                else:\n                    cp_events_enable = False\n                dp_events = cfg.get(\"dp_events\")\n                if dp_events is not None:\n                    dp_events_enable = dp_events.get(\"enable\")\n                    rx_rate_threshold = dp_events.get(\"rx_rate_threshold\")\n                else:\n                    dp_events_enable = False\n                # Enable cp-dp convergence if any one of cp or dp is true\n                if cp_events_enable or dp_events_enable:\n                    ixn_cpdpconvergence.Enabled = True\n                    # For CP events\n                    if cp_events_enable:\n                        ixn_cpdpconvergence.EnableControlPlaneEvents = True\n                    # For DP events\n                    if dp_events_enable:\n                        if self.traffic_item.has_latency is True:\n                            raise Exception(\n                                \"We are supporting either latency or dp convergence\"\n                            )\n                        ixn_cpdpconvergence.EnableDataPlaneEventsRateMonitor = (\n                            True\n                        )\n                        ixn_cpdpconvergence.DataPlaneThreshold = (\n                            rx_rate_threshold\n                        )\n    \n                for ixn_traffic_item in self._traffic_item.find():\n                    ixn_traffic_item.Tracking.find()[0].TrackBy = [\n                        \"destEndpoint0\",\n                        \"destSessionDescription0\",\n                    ]\n            else:\n                ixn_cpdpconvergence.Enabled = False\n    \n        except Exception as err:\n>           raise SnappiIxnException(err)\nE           snappi_ixnetwork.exceptions.SnappiIxnException:   File \"/home/github-runner/actions-runner/_work/snappi-ixnetwork/snappi-ixnetwork/snappi_ixnetwork/snappi_api.py\", line 287, in set_config\nE               self.config_ixnetwork(config)\nE             File \"/home/github-runner/actions-runner/_work/snappi-ixnetwork/snappi-ixnetwork/snappi_ixnetwork/snappi_api.py\", line 379, in config_ixnetwork\nE               self.traffic_item.config()\nE             File \"/home/github-runner/actions-runner/_work/snappi-ixnetwork/snappi-ixnetwork/snappi_ixnetwork/trafficitem.py\", line 1004, in config\nE               ixn_traffic_item = self.get_ixn_config(self._config)[0]\nE             File \"/home/github-runner/actions-runner/_work/snappi-ixnetwork/snappi-ixnetwork/snappi_ixnetwork/trafficitem.py\", line 603, in get_ixn_config\nE               self._importconfig(imports)\nE             File \"/home/github-runner/actions-runner/_work/snappi-ixnetwork/snappi-ixnetwork/snappi_ixnetwork/trafficitem.py\", line 525, in _importconfig\nE               raise SnappiIxnException(\nE            [{'xpath': '/traffic/trafficItem[1]/endpointSet[1]', 'message': 'Unable to create endpoint sets. Verify the endpoints are valid.', 'severity': 'kError', 'category': 'invalidCommit', 'property': 'noAtt'}, {'xpath': '/traffic/trafficItem[2]/endpointSet[1]', 'message': 'Unable to create endpoint sets. Verify the endpoints are valid.', 'severity': 'kError', 'category': 'invalidCommit', 'property': 'noAtt'}]\n\nsnappi_ixnetwork/snappi_api.py:332: SnappiIxnException","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"steps":[{"name":"--------------------------------- Captured Log ---------------------------------","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"--------------------------------- Captured Out ---------------------------------","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"resultFormat","value":"junit"},{"name":"suite","value":"pytest"},{"name":"host","value":"snappi-ixn-ci-novus10g"},{"name":"testClass","value":"vlan.test_vlan"},{"name":"package","value":"vlan.test_vlan"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":4,"broken":0,"skipped":0,"passed":157,"unknown":0,"total":161},"items":[{"uid":"50f44e7fb99a4e2d","status":"failed","statusDetails":"snappi_ixnetwork.exceptions.SnappiIxnException:   File \"/home/github-runner/actions-runner/_work/snappi-ixnetwork/snappi-ixnetwork/snappi_ixnetwork/snappi_api.py\", line 287, in set_config\n    self.config_ixnetwork(config)\n  File \"/home/github-runner/actions-runner/_work/snappi-ixnetwork/snappi-ixnetwork/snappi_ixnetwork/snappi_api.py\", line 379, in config_ixnetwork\n    self.traffic_item.config()\n  File \"/home/github-runner/actions-runner/_work/snappi-ixnetwork/snappi-ixnetwork/snappi_ixnetwork/trafficitem.py\", line 1004, in config\n    ixn_traffic_item = self.get_ixn_config(self._config)[0]\n  File \"/home/github-runner/actions-runner/_work/snappi-ixnetwork/snappi-ixnetwork/snappi_ixnetwork/trafficitem.py\", line 603, in get_ixn_config\n    self._importconfig(imports)\n  File \"/home/github-runner/actions-runner/_work/snappi-ixnetwork/snappi-ixnetwork/snappi_ixnetwork/trafficitem.py\", line 525, in _importconfig\n    raise SnappiIxnException(\n [{'xpath': '/traffic/trafficItem[1]/endpointSet[1]', 'message': 'Unable to create endpoint sets. Verify the endpoints are valid.', 'severity': 'kError', 'category': 'invalidCommit', 'property': 'noAtt'}, {'xpath': '/traffic/trafficItem[2]/endpointSet[1]', 'message': 'Unable to create endpoint sets. Verify the endpoints are valid.', 'severity': 'kError', 'category': 'invalidCommit', 'property': 'noAtt'}]","time":{"start":1769663188141,"stop":1769663201976,"duration":13835}},{"uid":"b940517a008b04f6","status":"failed","statusDetails":"snappi_ixnetwork.exceptions.SnappiIxnException:   File \"/home/github-runner/actions-runner/_work/snappi-ixnetwork/snappi-ixnetwork/snappi_ixnetwork/snappi_api.py\", line 287, in set_config\n    self.config_ixnetwork(config)\n  File \"/home/github-runner/actions-runner/_work/snappi-ixnetwork/snappi-ixnetwork/snappi_ixnetwork/snappi_api.py\", line 379, in config_ixnetwork\n    self.traffic_item.config()\n  File \"/home/github-runner/actions-runner/_work/snappi-ixnetwork/snappi-ixnetwork/snappi_ixnetwork/trafficitem.py\", line 1004, in config\n    ixn_traffic_item = self.get_ixn_config(self._config)[0]\n  File \"/home/github-runner/actions-runner/_work/snappi-ixnetwork/snappi-ixnetwork/snappi_ixnetwork/trafficitem.py\", line 603, in get_ixn_config\n    self._importconfig(imports)\n  File \"/home/github-runner/actions-runner/_work/snappi-ixnetwork/snappi-ixnetwork/snappi_ixnetwork/trafficitem.py\", line 525, in _importconfig\n    raise SnappiIxnException(\n [{'xpath': '/traffic/trafficItem[1]/endpointSet[1]', 'message': 'Unable to create endpoint sets. Verify the endpoints are valid.', 'severity': 'kError', 'category': 'invalidCommit', 'property': 'noAtt'}, {'xpath': '/traffic/trafficItem[2]/endpointSet[1]', 'message': 'Unable to create endpoint sets. Verify the endpoints are valid.', 'severity': 'kError', 'category': 'invalidCommit', 'property': 'noAtt'}]","time":{"start":1769624848819,"stop":1769624858997,"duration":10178}},{"uid":"882833b6821f6f44","status":"passed","time":{"start":1769595680741,"stop":1769595737942,"duration":57201}},{"uid":"638af378dc66714a","status":"passed","time":{"start":1769585543268,"stop":1769585602122,"duration":58854}},{"uid":"1c62a14292444114","status":"passed","time":{"start":1769077516718,"stop":1769077575651,"duration":58933}},{"uid":"b4a32da2a721d6d1","status":"passed","time":{"start":1768561931952,"stop":1768561993694,"duration":61742}},{"uid":"3f79fe79c3672e1c","status":"passed","time":{"start":1768478161862,"stop":1768478215433,"duration":53571}},{"uid":"ebe73a6db364a8e2","status":"passed","time":{"start":1768469097769,"stop":1768469154322,"duration":56553}},{"uid":"75e7b8e5997d3d9a","status":"passed","time":{"start":1768448859665,"stop":1768448919221,"duration":59556}},{"uid":"4d3dbde5cdbd731b","status":"passed","time":{"start":1768372946323,"stop":1768373001922,"duration":55599}},{"uid":"63f26fcbbdb9ad0f","status":"passed","time":{"start":1767873824411,"stop":1767873886547,"duration":62136}},{"uid":"f6594906ec54dff3","status":"passed","time":{"start":1767862092912,"stop":1767862152559,"duration":59647}},{"uid":"c3c74c635625daea","status":"passed","time":{"start":1767677129994,"stop":1767677185002,"duration":55008}},{"uid":"3be6b767c905eecc","status":"passed","time":{"start":1765779386953,"stop":1765779446808,"duration":59855}},{"uid":"c067ecda0e0a60bd","status":"passed","time":{"start":1765462253388,"stop":1765462312725,"duration":59337}},{"uid":"58799d947bb7116","status":"passed","time":{"start":1765452139269,"stop":1765452202188,"duration":62919}},{"uid":"484cea6e7a38dd7e","status":"passed","time":{"start":1765442576325,"stop":1765442641355,"duration":65030}},{"uid":"e7f5a9dfe7c4efb2","status":"passed","time":{"start":1765433708748,"stop":1765433764209,"duration":55461}},{"uid":"2693c1a9a2833f61","status":"passed","time":{"start":1765424930744,"stop":1765424990562,"duration":59818}},{"uid":"e8c3f3cb16a9cb88","status":"passed","time":{"start":1765398148379,"stop":1765398204939,"duration":56560}}]},"tags":[]},"source":"dda4690c2a60d5b6.json","parameterValues":[]}