{"uid":"76ebc691d6bd8f36","name":"test_counter_ip_dscp","historyId":"pytest:chassischain.test_chassis_chain_support#test_counter_ip_dscp","time":{"start":1741346675485,"stop":1741346706646,"duration":31161},"status":"failed","statusMessage":"assert 0 == 1\n +  where 0 = len(<ixnetwork_restpy.testplatform.sessions.ixnetwork.availablehardware.chassis.chassis.Chassis object at 0x7f39f9a451c0>)","statusTrace":"api = <snappi_ixnetwork.snappi_api.Api object at 0x7f39fc62c3a0>\nb2b_raw_config = <snappi.snappi.Config object at 0x7f39f984b1f0>\nutils = <module 'utils' from '/home/github-runner/actions-runner/_work/snappi-ixnetwork/snappi-ixnetwork/tests/utils/__init__.py'>\n\n    def test_counter_ip_dscp(api, b2b_raw_config, utils):\n        \"\"\"\n        Configure a Chassis Chain setup\n    \n        Validate,\n        - Fetch the chassis chain config set via restpy and validate\n          against expected\n        \"\"\"\n        ixnconfig = api.ixnet_specific_config\n        chassis_chain1 = ixnconfig.chassis_chains.add()\n        chassis_chain1.primary = \"10.36.78.236\"\n        chassis_chain1.topology = chassis_chain1.STAR\n        secondary1 = chassis_chain1.secondary.add()\n        secondary1.location = \"10.36.78.141\"\n        secondary1.sequence_id = \"2\"\n        secondary1.cable_length = \"6\"\n        # secondary2 = chassis_chain1.secondary.add()\n        # secondary2.location = \"10.39.32.161\"\n        # secondary2.sequence_id = \"3\"\n        # secondary2.cable_length = \"3\"\n        # chassis_chain2 = ixnconfig.chassis_chains.add()\n        # chassis_chain2.primary = \"10.39.32.151\"\n        # chassis_chain2.topology = chassis_chain2.DAISY\n        # secondary3 = chassis_chain2.secondary.add()\n        # secondary3.location = \"10.39.32.162\"\n        # secondary3.sequence_id = \"4\"\n        # secondary3.cable_length = \"3\"\n        # secondary4 = chassis_chain2.secondary.add()\n        # secondary4.location = \"10.39.32.163\"\n        # secondary4.sequence_id = \"5\"\n        # secondary4.cable_length = \"3\"\n    \n        f = b2b_raw_config.flows[0]\n        f.packet.ethernet().ipv4()\n        ipv4 = f.packet[1]\n        phb = (\n            [\"DEFAULT\"]\n            + [\"CS%d\" % i for i in range(1, 4)]\n            + [\"AF%d\" % i for j in range(11, 51, 10) for i in range(j, j + 3)]\n        )\n        phb = phb + [\"EF46\"]\n        af_ef = [\n            \"10\",\n            \"12\",\n        ]\n        for i, p in enumerate(phb):\n            # https://github.com/open-traffic-generator/snappi/issues/25\n            # currently assigning the choice as work around\n            ipv4.priority.choice = ipv4.priority.DSCP\n            ipv4.priority.dscp.phb.value = getattr(ipv4.priority.dscp.phb, p)\n            ipv4.priority.dscp.ecn.value = 3\n            api.set_config(b2b_raw_config)\n            if i == 0:\n                attrs = {\"Default PHB\": str(i)}\n                attrs[\"ipv4.header.priority.ds.phb.defaultPHB.unused\"] = \"3\"\n            elif i > 0 and i < 8:\n                attrs = {\"Class selector PHB\": str(i * 8)}\n                attrs[\"ipv4.header.priority.ds.phb.classSelectorPHB.unused\"] = \"3\"\n            elif i > 7 and i < (len(phb) - 1):\n                attrs = {\"Assured forwarding PHB\": af_ef[i - 8]}\n                attrs[\n                    \"ipv4.header.priority.ds.phb.assuredForwardingPHB.unused\"\n                ] = \"3\"\n            else:\n                attrs = {\"Expedited forwarding PHB\": af_ef[-1]}\n                attrs[\n                    \"ipv4.header.priority.ds.phb.expeditedForwardingPHB.unused\"\n                ] = \"3\"\n    \n            utils.validate_config(api, \"f1\", \"ipv4\", **attrs)\n    \n            chassis = api._ixnetwork.AvailableHardware.Chassis\n            chassis.find(Hostname=\"^%s$\" % chassis_chain1.primary)\n>           assert len(chassis) == 1\nE           assert 0 == 1\nE            +  where 0 = len(<ixnetwork_restpy.testplatform.sessions.ixnetwork.availablehardware.chassis.chassis.Chassis object at 0x7f39f9a451c0>)\n\ntests/chassischain/test_chassis_chain_support.py:77: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"steps":[{"name":"--------------------------------- Captured Log ---------------------------------","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"INFO     snappi_ixnetwork.snappi_api:snappi_api.py:1407 Config validation 0.002s","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"INFO     snappi_ixnetwork.snappi_api:snappi_api.py:1407 Ports configuration 10.738s","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"INFO     snappi_ixnetwork.snappi_api:snappi_api.py:1407 Captures configuration 0.598s","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"INFO     snappi_ixnetwork.snappi_api:snappi_api.py:1407 Location hosts ready [novus1-715849.ccu.is.keysight.com] 2.106s","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"INFO     snappi_ixnetwork.snappi_api:snappi_api.py:1407 Speed change not require due to redundant Layer1 config","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"INFO     snappi_ixnetwork.snappi_api:snappi_api.py:1407 Aggregation mode speed change 0.003s","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"INFO     snappi_ixnetwork.snappi_api:snappi_api.py:1407 Location preemption [novus1-715849.ccu.is.keysight.com;1;1, novus1-715849.ccu.is.keysight.com;1;2] 0.109s","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"INFO     snappi_ixnetwork.snappi_api:snappi_api.py:1407 Location connect [tx, rx] 1.881s","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"INFO     snappi_ixnetwork.snappi_api:snappi_api.py:1407 Location state check [tx, rx] 0.263s","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"INFO     snappi_ixnetwork.snappi_api:snappi_api.py:1407 Location configuration 13.347s","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"INFO     snappi_ixnetwork.snappi_api:snappi_api.py:1407 Layer1 configuration 1.858s","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"INFO     snappi_ixnetwork.snappi_api:snappi_api.py:1407 Lag Configuration 0.082s","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"INFO     snappi_ixnetwork.snappi_api:snappi_api.py:1407 Convert device config : 0.249s","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"INFO     snappi_ixnetwork.snappi_api:snappi_api.py:1407 Create IxNetwork device config : 0.000s","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"INFO     snappi_ixnetwork.snappi_api:snappi_api.py:1407 Push IxNetwork device config : 0.080s","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"INFO     snappi_ixnetwork.snappi_api:snappi_api.py:1407 Devices configuration 0.410s","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"INFO     snappi_ixnetwork.snappi_api:snappi_api.py:1407 Flows configuration 1.565s","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"INFO     snappi_ixnetwork.snappi_api:snappi_api.py:1407 Start interfaces 0.239s","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"INFO     snappi_ixnetwork.snappi_api:snappi_api.py:1407 IxNet - The Traffic Item configuration has changed and it needs to be regenerated before applying it to the Ixia hardware","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"INFO     snappi_ixnetwork.snappi_api:snappi_api.py:1407 IxNet - The Traffic Item was modified. Please perform a Traffic Generate to update the associated traffic Flow Groups","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"--------------------------------- Captured Out ---------------------------------","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":22,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"resultFormat","value":"junit"},{"name":"suite","value":"pytest"},{"name":"host","value":"snappi-ixn-ci-novus10g"},{"name":"testClass","value":"chassischain.test_chassis_chain_support"},{"name":"package","value":"chassischain.test_chassis_chain_support"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":7,"broken":0,"skipped":0,"passed":0,"unknown":0,"total":7},"items":[{"uid":"3e48e25a0deefd4f","status":"failed","statusDetails":"assert 0 == 1\n +  where 0 = len(<ixnetwork_restpy.testplatform.sessions.ixnetwork.availablehardware.chassis.chassis.Chassis object at 0x7fdb8f7490c0>)","time":{"start":1741066144231,"stop":1741066175503,"duration":31272}},{"uid":"6d951325ac3be538","status":"failed","statusDetails":"assert 0 == 1\n +  where 0 = len(<ixnetwork_restpy.testplatform.sessions.ixnetwork.availablehardware.chassis.chassis.Chassis object at 0x7fec51c529c0>)","time":{"start":1741017342205,"stop":1741017373353,"duration":31148}},{"uid":"9e1957a596c0bf8","status":"failed","statusDetails":"assert 0 == 1\n +  where 0 = len(<ixnetwork_restpy.testplatform.sessions.ixnetwork.availablehardware.chassis.chassis.Chassis object at 0x7f6ae8e3ae40>)","time":{"start":1741010585345,"stop":1741010622885,"duration":37540}},{"uid":"ce1a2ff8c508f69e","status":"failed","statusDetails":"assert 0 == 1\n +  where 0 = len(<ixnetwork_restpy.testplatform.sessions.ixnetwork.availablehardware.chassis.chassis.Chassis object at 0x7f7f202efbc0>)","time":{"start":1741003883154,"stop":1741003918728,"duration":35574}},{"uid":"e872f8bd0a45b4c4","status":"failed","statusDetails":"assert 0 == 1\n +  where 0 = len(<ixnetwork_restpy.testplatform.sessions.ixnetwork.availablehardware.chassis.chassis.Chassis object at 0x7f7f6f772540>)","time":{"start":1740980694046,"stop":1740980725237,"duration":31191}},{"uid":"19b931feccf77c32","status":"failed","statusDetails":"assert 0 == 1\n +  where 0 = len(<ixnetwork_restpy.testplatform.sessions.ixnetwork.availablehardware.chassis.chassis.Chassis object at 0x7fa789f32ac0>)","time":{"start":1740754522073,"stop":1740754557322,"duration":35249}}]},"tags":[]},"source":"76ebc691d6bd8f36.json","parameterValues":[]}