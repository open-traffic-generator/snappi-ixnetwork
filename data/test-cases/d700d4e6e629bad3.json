{"uid":"d700d4e6e629bad3","name":"test_bgpv4_stats","historyId":"pytest:bgp.test_bgpv4_stats#test_bgpv4_stats","time":{"start":1764603373458,"stop":1764603443005,"duration":69547},"status":"failed","statusMessage":"assert 4 == 2\n +  where 4 = len(<snappi.snappi.Bgpv4MetricIter object at 0x7fed0b125bc0>)\n +    where <snappi.snappi.Bgpv4MetricIter object at 0x7fed0b125bc0> = <snappi.snappi.MetricsResponse object at 0x7fed086604a0>.bgpv4_metrics","statusTrace":"api = <snappi_ixnetwork.snappi_api.Api object at 0x7fed08cbbdc0>\nb2b_raw_config = <snappi.snappi.Config object at 0x7fed0821d4e0>\nutils = <module 'utils' from '/home/github-runner/actions-runner/_work/snappi-ixnetwork/snappi-ixnetwork/tests/utils/__init__.py'>\n\n    def test_bgpv4_stats(api, b2b_raw_config, utils):\n        \"\"\"\n        Test for the bgpv4 metrics\n        \"\"\"\n        api.set_config(api.config())\n        b2b_raw_config.flows.clear()\n    \n        p1, p2 = b2b_raw_config.ports\n        d1, d2 = b2b_raw_config.devices.device(name=\"tx_bgp\").device(name=\"rx_bgp\")\n    \n        eth1, eth2 = d1.ethernets.add(), d2.ethernets.add()\n        eth1.connection.port_name, eth2.connection.port_name = p1.name, p2.name\n        eth1.mac, eth2.mac = \"00:00:00:00:00:11\", \"00:00:00:00:00:22\"\n        ip1, ip2 = eth1.ipv4_addresses.add(), eth2.ipv4_addresses.add()\n        bgp1, bgp2 = d1.bgp, d2.bgp\n    \n        eth1.name, eth2.name = \"eth1\", \"eth2\"\n        ip1.name, ip2.name = \"ip1\", \"ip2\"\n        bgp1.router_id, bgp2.router_id = \"192.0.0.1\", \"192.0.0.2\"\n        bgp1_int, bgp2_int = bgp1.ipv4_interfaces.add(), bgp2.ipv4_interfaces.add()\n        bgp1_int.ipv4_name, bgp2_int.ipv4_name = ip1.name, ip2.name\n        bgp1_peer, bgp2_peer = bgp1_int.peers.add(), bgp2_int.peers.add()\n        bgp1_peer.name, bgp2_peer.name = \"bgp1\", \"bpg2\"\n        ip1.address = \"10.1.1.1\"\n        ip1.gateway = \"10.1.1.2\"\n        ip1.prefix = 24\n    \n        ip2.address = \"10.1.1.2\"\n        ip2.gateway = \"10.1.1.1\"\n        ip2.prefix = 24\n    \n        bgp1_peer.peer_address = \"10.1.1.2\"\n        bgp1_peer.as_type = \"ibgp\"\n        bgp1_peer.as_number = 10\n    \n        bgp2_peer.peer_address = \"10.1.1.1\"\n        bgp2_peer.as_type = \"ibgp\"\n        bgp2_peer.as_number = 10\n    \n        utils.start_traffic(api, b2b_raw_config)\n        utils.wait_for(\n            lambda: results_ok(api), \"stats to be as expected\", timeout_seconds=20\n        )\n        enums = [\n            \"session_state\",\n            \"routes_advertised\",\n            \"routes_received\",\n            \"route_withdraws_sent\",\n            \"route_withdraws_received\",\n            \"updates_sent\",\n            \"updates_received\",\n            \"opens_sent\",\n            \"opens_received\",\n            \"keepalives_sent\",\n            \"keepalives_received\",\n            \"notifications_sent\",\n            \"notifications_received\",\n        ]\n        expected_results = {\n            \"tx_bgp\": [\"up\", 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n            \"rx_bgp\": [\"up\", 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n        }\n        req = api.metrics_request()\n        req.bgpv4.peer_names = []\n        req.bgpv4.column_names = enums[:3]\n        results = api.get_metrics(req)\n>       assert len(results.bgpv4_metrics) == 2\nE       assert 4 == 2\nE        +  where 4 = len(<snappi.snappi.Bgpv4MetricIter object at 0x7fed0b125bc0>)\nE        +    where <snappi.snappi.Bgpv4MetricIter object at 0x7fed0b125bc0> = <snappi.snappi.MetricsResponse object at 0x7fed086604a0>.bgpv4_metrics\n\ntests/bgp/test_bgpv4_stats.py:71: AssertionError","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"steps":[{"name":"--------------------------------- Captured Log ---------------------------------","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"WARNING  root:snappi_api.py:1518 tx connectedLinkDown","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"WARNING  root:snappi_api.py:1518 rx connectedLinkDown","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"--------------------------------- Captured Out ---------------------------------","time":{},"steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":4,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"resultFormat","value":"junit"},{"name":"suite","value":"pytest"},{"name":"host","value":"snappi-ixn-ci-novus10g"},{"name":"testClass","value":"bgp.test_bgpv4_stats"},{"name":"package","value":"bgp.test_bgpv4_stats"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":23,"broken":0,"skipped":0,"passed":244,"unknown":0,"total":267},"items":[{"uid":"e58e2e7e804b77c7","status":"passed","time":{"start":1764595598403,"stop":1764595704410,"duration":106007}},{"uid":"ea1eeb5fe9d5d5a7","status":"passed","time":{"start":1764587889065,"stop":1764587994366,"duration":105301}},{"uid":"f95a54c225fd5847","status":"passed","time":{"start":1764231998352,"stop":1764232110568,"duration":112216}},{"uid":"3556d02e7cada6d6","status":"passed","time":{"start":1764006817212,"stop":1764006916347,"duration":99135}},{"uid":"269399c44c1c4a3d","status":"passed","time":{"start":1762437316398,"stop":1762437416715,"duration":100317}},{"uid":"7a23db03aa3ec15e","status":"passed","time":{"start":1762269716200,"stop":1762269845377,"duration":129177}},{"uid":"6f59c14d35c0da05","status":"passed","time":{"start":1762250246549,"stop":1762250363238,"duration":116689}},{"uid":"4d8a9cea290806b3","status":"passed","time":{"start":1762143686359,"stop":1762143801606,"duration":115247}},{"uid":"2e673bbe513c276f","status":"passed","time":{"start":1761645495004,"stop":1761645590415,"duration":95411}},{"uid":"e61b44578a54bcef","status":"passed","time":{"start":1761628348841,"stop":1761628467071,"duration":118230}},{"uid":"a17ea244ad791479","status":"passed","time":{"start":1761185840043,"stop":1761185949615,"duration":109572}},{"uid":"61e19bf105846a31","status":"passed","time":{"start":1761146304006,"stop":1761146414136,"duration":110130}},{"uid":"5c8d0ccaed5e0157","status":"passed","time":{"start":1761134580607,"stop":1761134691228,"duration":110621}},{"uid":"e4517ac2dddf3281","status":"passed","time":{"start":1760618401543,"stop":1760618501233,"duration":99690}},{"uid":"f9643bb3b8df6666","status":"passed","time":{"start":1760605650230,"stop":1760605773113,"duration":122883}},{"uid":"6996c5236c594731","status":"passed","time":{"start":1758714425703,"stop":1758714544595,"duration":118892}},{"uid":"3b63dc00ca40c57a","status":"passed","time":{"start":1758706091669,"stop":1758706200284,"duration":108615}},{"uid":"4129ae9201869ac5","status":"passed","time":{"start":1758697949757,"stop":1758698060337,"duration":110580}},{"uid":"26d59494a33486e1","status":"passed","time":{"start":1758689973604,"stop":1758690085553,"duration":111949}},{"uid":"3fa45d2feb07c72e","status":"passed","time":{"start":1758676870469,"stop":1758676994527,"duration":124058}}]},"tags":[]},"source":"d700d4e6e629bad3.json","parameterValues":[]}